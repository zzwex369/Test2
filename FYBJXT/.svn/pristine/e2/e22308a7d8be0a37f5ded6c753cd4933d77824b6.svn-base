<?xml version="1.0" encoding="utf-8"?>
<s:Module xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" height="100%"
		  xmlns:component="com.xyw.sys.custom.component.*"
		  xmlns:local="com.xyw.sys.custom.component.*"
		  creationComplete="moduleCreationComplete()">
	
	<fx:Declarations>
		<s:RemoteObject id="birthService" destination="birthService" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="validateSaveBirthCertiticate" result="validateSaveBirthCertiticateHandler(event)"/>
			<s:method name="validateStockCertiticate" result="validateStockCertiticateHandler(event)"/>
			<s:method name="validateBirth" result="validateBirthHandler(event)"/>
		</s:RemoteObject>
		<s:RemoteObject id="systemService" destination="systemService" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="getComboBoxData" result="getComboBoxDataHandler(event)"/>
		</s:RemoteObject>
	</fx:Declarations>
	
	<fx:Style>
		@namespace s "library://ns.adobe.com/flex/spark";
		@namespace mx "library://ns.adobe.com/flex/mx";
		mx|GridItem
		{
			horizontalAlign:right;
			verticalAlign:middle;
		}
		s|HGroup
		{
			horizontalAlign:right;
			verticalAlign:middle;
		}
		s|DropDownList
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomDropDownListSkin");
			selectionColor:#DDDDDD;
			rollOverColor:#EEEEEE;	
		}
		s|Button
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomButtonSkin");
		}
		s|TextInput
		{
			fontFamily:微软雅黑;
		}
		.mustQuery {
			color:red;
			fontSize:14px;
		}
	</fx:Style>
	
	<fx:Script>
		<![CDATA[
			import com.xyw.module.csyxzm.model.D301;
			import com.xyw.module.csyxzm.model.QueryBirthRequest;
			import com.xyw.module.csyxzm.model.QueryBirthResponse;
			import com.xyw.module.csyxzm.model.VBirthInfo;
			import com.xyw.module.csyxzm.model.VD301;
			import com.xyw.module.csyxzm.model.VD304;
			import com.xyw.sys.custom.component.SecurityControler;
			import com.xyw.sys.model.ComboBoxData;
			import com.xyw.sys.model.ComboBoxDataRequest;
			import com.xyw.sys.model.ComboBoxDataResponse;
			import com.xyw.sys.model.SystemUser;
			
			import flash.net.navigateToURL;
			
			import com.xyw.module.csyxzm.csyxzmdj_.Querywindow;
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.controls.DateField;
			import mx.controls.Text;
			import mx.events.FlexEvent;
			import mx.formatters.DateFormatter;
			import mx.managers.PopUpManager;
			import mx.rpc.events.ResultEvent;
			import mx.utils.StringUtil;
			
			import spark.formatters.DateTimeFormatter;
			
			include "../csyxzmAs/csyxzm.as";
			private var comboBoxDataRequest:ComboBoxDataRequest;
			private var d301:D301=new D301();
			private var vBrithInfo:VBirthInfo;
			public var systemUser:SystemUser = null;
			
			private var birth_day:String;
			private var birth_hour:String;
			private var birth_minute:String;
			private var d301_04_str:String;
			private var d301_04_date:Date;
			private var d301_56:Number=0;
			private var d301_57:Number=0;
			
			private var queryBirthRequest:QueryBirthRequest;
			[Bindable]
			public var myDP:ArrayCollection = new ArrayCollection(
				[ 	{zh:"请选择",shuzi:0},
					{zh:"打印错误",shuzi:1},
					{zh:"填写错误",shuzi:2}]);
			[Bindable]
			public var sexData:ArrayCollection = new ArrayCollection(
				[	{label:"请选择",data:0},
					{label:"男",data:1},
					{label:"女",data:2},
					{label:"未知",data:3}]);
			
			//========================启动权限控制============//
			private function security():void{
				SecurityControler.start(null,'visible');
				SecurityControler.addAllPerms(this.parentApplication.permissionList);
			}
			//初始化方法
			private function moduleCreationComplete():void
			{
				security();
				this.systemUser = this.parentApplication.systemUser;
				if(this.systemUser.duka == "1"){
					this.duka1.enabled = true;
					this.duka2.enabled = true;
					this.duka3.enabled = true;
					this.duka4.enabled = true;
					this.duka5.enabled = true;
				}
				this.initializeComboBox();//初始化数据
				this.d301_28.text = DateField.dateToString(new Date, "YYYY-MM-DD");
				this.d301_12.addEventListener(FlexEvent.ENTER,setMontherBirthday);
				this.d301_12.addEventListener(FlexEvent.CHANGING,setMontherBirthday);
				this.d301_17.addEventListener(FlexEvent.ENTER,setFatherBirthday);
				this.d301_17.addEventListener(FlexEvent.CHANGING,setFatherBirthday);
				this.d301_12_17.addEventListener(FlexEvent.ENTER,setSingleBirthday);
				this.d301_12_17.addEventListener(FlexEvent.CHANGING,setSingleBirthday);
				var date:Date = new Date();
				this.hour.text = (String)(date.hours);
				this.minute.text = (String)(date.minutes);
			}
			
			private function setMontherBirthday(event:Event):void
			{
				if(this.d301_34.selectedItem.data == 1){
					var cardId:String = this.d301_12.text;
					if(cardId.length>=16){
						cardId=cardId.substring(6,14);
						this.d301_13.text = cardId.substring(0,4) + "-" + cardId.substring(4,6) + "-" + cardId.substring(6,8);
					}else{
						cardId=cardId.substring(6,12);
						this.d301_13.text = "19" + cardId.substring(0,2) + "-" + cardId.substring(2,4) + "-" + cardId.substring(4,6);
					}
				}
			}
			
			private function setFatherBirthday(event:Event):void
			{
				if(this.d301_35.selectedItem.data == 1){
					var cardId:String = this.d301_17.text;
					if(cardId.length>=16){
						cardId=cardId.substring(6,14);
						this.d301_18.text = cardId.substring(0,4) + "-" + cardId.substring(4,6) + "-" + cardId.substring(6,8);
					}else{
						cardId=cardId.substring(6,12);
						this.d301_18.text = "19" + cardId.substring(0,2) + "-" + cardId.substring(2,4) + "-" + cardId.substring(4,6);
					}
				}
			}
			
			private function setSingleBirthday(event:Event):void
			{
				if(this.d301_34_35.selectedItem.data == 1){
					var cardId:String = this.d301_12_17.text;
					if(cardId.length>=16){
						cardId=cardId.substring(6,14);
						this.d301_13_18.text = cardId.substring(0,4) + "-" + cardId.substring(4,6) + "-" + cardId.substring(6,8);
					}else{
						cardId=cardId.substring(6,12);
						this.d301_13_18.text = "19" + cardId.substring(0,2) + "-" + cardId.substring(2,4) + "-" + cardId.substring(4,6);
					}
				}
			}
			/*------查询车辆类型和车辆使用性质 下拉菜单-----------*/
			private function initializeComboBox():void
			{
				this.comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "S301_02";
				comboBoxDataRequest.sql = "select * from S301_02";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				this.comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "S301_03";
				comboBoxDataRequest.sql = "select * from S301_03";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				this.comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "S301_04";
				comboBoxDataRequest.sql = "select * from S301_04";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				this.comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "S301_05";
				comboBoxDataRequest.sql = "select * from S301_05";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select t.d101_01, t.d101_02 from D101 t";
				comboBoxDataRequest.flag = "D101";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select * from S301_06";
				comboBoxDataRequest.flag = "S301_06";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select * from S301_07";
				comboBoxDataRequest.flag = "S301_07";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select * from S301_08";
				comboBoxDataRequest.flag = "S301_08";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = false;
				comboBoxDataRequest.sql = "select t.s_01,t.s_02 from S301_10 t where t.S_05='0' and t.S_03 ="+this.systemUser.institutionCode;
				comboBoxDataRequest.flag = "S301_10";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				var systemCode:String = this.systemUser.institutionCode;
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = false;
				comboBoxDataRequest.sql = "select * from S301_09 t where t.S_03='"+systemCode+"'";
				comboBoxDataRequest.flag = "S301_09";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
			}
			
			/*-----------------返回数据放到赋值到下拉菜单-----------------*/
			private function getComboBoxDataHandler(event:ResultEvent):void
			{
				var comboBoxDataResponse:Object =  event.result;
				var flag:String = comboBoxDataResponse.flag;
				var comboBoxDataList:ArrayCollection = comboBoxDataResponse.comboBoxDataList;
				
				if(flag == "S301_02")
				{
					this.d301_09.dataProvider = comboBoxDataList;
					this.d301_09.selectedIndex = 0;
				}else if(flag == "S301_03")
				{
					this.d301_14.dataProvider = comboBoxDataList;
					var countryIndex:int = this.getCountrySelectedIndex(comboBoxDataList);
					this.d301_14.selectedIndex = countryIndex;
					this.d301_19.dataProvider = comboBoxDataList;
					this.d301_19.selectedIndex = countryIndex;
					this.d301_14_19.dataProvider = comboBoxDataList;
					this.d301_14_19.selectedIndex = countryIndex;
				}else if(flag == "S301_04")
				{
					this.d301_15.dataProvider = comboBoxDataList;
					var volkIndex:int = this.getVolkSelectedIndex(comboBoxDataList);
					this.d301_15.selectedIndex = volkIndex;
					this.d301_20.dataProvider = comboBoxDataList;
					this.d301_20.selectedIndex = volkIndex;
					this.d301_15_20.dataProvider = comboBoxDataList;
					this.d301_15_20.selectedIndex = volkIndex;
				}else if(flag == "S301_05")
				{
					this.d301_22.dataProvider = comboBoxDataList;
					var birthIndex:int = this.getBirthSelectedIndex(comboBoxDataList);
					this.d301_22.selectedIndex = birthIndex;
				}else if(flag == "D101")
				{
					var index:int = this.getDropDownListSelectedIndex(comboBoxDataList, this.systemUser.institutionCode);
					this.d301_24.dataProvider = comboBoxDataList;
					this.d301_26.dataProvider = comboBoxDataList;
					this.d301_24.selectedIndex = index;
					this.d301_26.selectedIndex = index;
					this.d301_24.enabled = false;
					this.d301_26.enabled = false;
				}else if(flag == "S301_06")
				{
					this.d301_34.dataProvider = comboBoxDataList;
					this.d301_34.selectedIndex = 1;
					
					this.d301_35.dataProvider = comboBoxDataList;
					this.d301_35.selectedIndex = 1;
					
					this.d301_34_35.dataProvider = comboBoxDataList;
					this.d301_34_35.selectedIndex = 1;
					
					this.d301_38.dataProvider = comboBoxDataList;
					this.d301_38.selectedIndex = 1;
					
					
				}else if(flag == "S301_07")
				{
					this.d301_37.dataProvider = comboBoxDataList;
					this.d301_37.selectedIndex = 0;
				}else if(flag == "S301_08")
				{
					this.d301_55.dataProvider = comboBoxDataList;
					this.d301_55.selectedIndex = 0;
					
				}else if(flag == "S301_10")
				{
					this.d301_27.dataProvider = comboBoxDataList;
					this.d301_27.selectedIndex = 0;
					
				}else if(flag == "S301_09"){
					this.d301_25.dataProvider = comboBoxDataList;
					this.d301_25.selectedIndex = 0;
					
				}
			}
			
			/*-----------------默认国籍 中国---------------------*/
			private function getCountrySelectedIndex(arrayCollection:ArrayCollection):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.data == "CHN") {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			
			/*-----------------默认民族  汉族---------------------*/
			private function getVolkSelectedIndex(arrayCollection:ArrayCollection):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.data == "01") {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			
			/*-----------------默认出生地点分类        医院---------------------*/
			private function getBirthSelectedIndex(arrayCollection:ArrayCollection):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.data == "1") {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			
			private function getDropDownListSelectedIndex(arrayCollection:ArrayCollection, defaultValue:String):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.data == defaultValue) {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			
			/*--------------保存出生证明信息-----------------*/
			private function validateSaveBirthCertiticate():void 
			{
				var patternFather:RegExp = /^(\d{18,18}|\d{15,15}|\d{17,17}X|\d{17,17}x)$/g;
				var patternMonther:RegExp = /^(\d{18,18}|\d{15,15}|\d{17,17}X|\d{17,17}x)$/g;
				var birthdayFormat:RegExp  = /^((19|20)\d\d-((0[1-9])|(1[0-2]))-[0-3]\d)$/;
				if(StringUtil.trim(this.d301_02.text) == "")
				{
					Alert.show("请输入婴儿姓名!","系统提示");
					return;
				}
				if(this.d301_03.selectedItem.data == 0)
				{
					Alert.show("请选择性别!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_47.text) == "")
				{
					Alert.show("请输入孕周天数！","系统提示");
					return;
				}
				/* if(StringUtil.trim(this.d301_32.text) == "")
				{
					Alert.show("请输入住院病历号!","系统提示!");
					return;
				} */
				if(this.d301_09.selectedItem.data == 0)
				{
					Alert.show("请选择健康状况!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_10.text) == "")
				{
					Alert.show("请输入出生证号!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_33.text) == "")
				{
					Alert.show("请选择填表日期!","系统提示!");
					return;
				}
				if(StringUtil.trim(this.d301_25.text) == "")
				{
					Alert.show("请输入接生员!","系统提示");
					return;
				}
				var end_start:int = (new Date().time - d301_04.selectedDate.time)/(1000*60*60*24);
				if(end_start >= 92){
					if(this.d301_54.text == ""){
						Alert.show("请输入亲子鉴定编号!","系统提示");
						return ;
					}
				}
				if(this.d301_05.getAreaCode().length < 8) {
					Alert.show("出生地选到乡镇级别!", "系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_04.text) == "")
				{
					Alert.show("请选择婴儿出生日期!","系统提示");
					return;
				}
				if((Number)(this.hour.text) < 0 || (Number)(this.hour.text) > 23) 
				{
					Alert.show("输入时间(小时)不符合格式", "系统提示");
					return;
				}if((Number)(this.minute.text) < 0 || (Number)(this.minute.text) > 59) 
				{
					Alert.show("输入时间(分钟)不符合格式", "系统提示");
					return;
				}if((Number)(this.d301_47.text) < 0 || (Number)(this.d301_47.text) > 7) 
				{
					Alert.show("输入天数不符合格式", "系统提示");
					return;
				}
				if(this.d301_55.selectedItem.data == 0)
				{
					Alert.show("请选择胎数!","系统提示");
					return;
				}
				if(this.mother.selected || this.father.selected){
					if(StringUtil.trim(this.d301_11_16.text) == "")
					{
						Alert.show("请输入父亲或者母亲姓名!","系统提示");
						return;
					}
					if(this.d301_34_35.selectedItem.data == 0)
					{
						Alert.show("请选择证件类别!","系统提示");
						return;
					}
					if(StringUtil.trim(this.d301_12_17.text) == "")
					{
						Alert.show("请输入证件号码!","系统提示");
						return;
					}
					if(!patternFather.test(this.d301_12_17.text) && this.d301_34_35.selectedItem.data == "1")
					{
						Alert.show("父亲或母亲身份证号码有误！","系统提示");
						return;
					}
					if(StringUtil.trim(this.d301_13_18.text) == "")
					{
						Alert.show("请输入出生日期!","系统提示");
						return;
					}
					if(!birthdayFormat.test(this.d301_13_18.text))
					{
						Alert.show("请输入出生日期!","系统提示");
						return;
					}
					if(this.d301_14_19.selectedItem.data == 0)
					{
						Alert.show("请选择国籍!","系统提示");
						return;
					}
					if(this.d301_15_20.selectedItem.data == 0)
					{
						Alert.show("请选择民族!","系统提示");
						return;
					}
					if(StringUtil.trim(this.d301_21_48.text) == "")
					{
						Alert.show("请输入家庭地址!","系统提示");
						return;
					}
				}else{
					if(StringUtil.trim(this.d301_11.text) == "")
					{
						Alert.show("请输入母亲姓名!","系统提示");
						return;
					} 
					if(StringUtil.trim(this.d301_12.text) == "")
					{
						Alert.show("请输入母亲证件号码！","系统提示");
						return;
					}
					if(this.d301_34.selectedItem.data==1 && this.d301_14.selectedItem.data=="CHN")
					{
						if(!patternMonther.test(this.d301_12.text))
						{
							Alert.show("母亲身份证号码有误!","系统提示");
							return;
						}
					}
					if(!birthdayFormat.test(this.d301_13.text)){
						Alert.show("请选择母亲出生日期!","系统提示");
						return;
					}
					if(this.d301_14.selectedItem.data == 0)
					{
						Alert.show("请选择母亲国籍!","系统提示");
						return;
					}
					if(this.d301_15.selectedItem.data == 0)
					{
						Alert.show("请选择母亲民族!","系统提示");
						return;
					}
					if(StringUtil.trim(this.d301_17.text) == "")
					{
						Alert.show("请输入父亲证件号码！","系统提示");
						return;
					}
					if(!patternFather.test(this.d301_17.text) && this.d301_35.selectedItem.data==1 && this.d301_19.selectedItem.data=="CHN")
					{
						Alert.show("父亲身份证号码有误!","系统提示");
						return;
					}
					if(!birthdayFormat.test(this.d301_18.text)){
						Alert.show("请选择父亲出生日期!","系统提示");
						return;
					}
					if(this.d301_19.selectedItem.data == 0)
					{
						Alert.show("请选择父亲国籍!","系统提示");
						return;
					}
					if(this.d301_20.selectedItem.data == 0)
					{
						Alert.show("请选择父亲民族!","系统提示");
						return;
					}
					if(StringUtil.trim(this.d301_21.text) == "")
					{
						Alert.show("请输入母亲家庭地址!","系统提示");
						return;
					}
					if(StringUtil.trim(this.d301_48.text) == "")
					{
						Alert.show("请输入父亲家庭地址!","系统提示");
						return;
					}
				}
				if(StringUtil.trim(this.d301_36.text) == "")
				{
					Alert.show("请输入领证人!","系统提示");
					return;
				}
				if(this.d301_37.selectedItem.data == 0)
				{
					Alert.show("请选择与新生儿关系!","系统提示");
					return;
				}
				if(this.d301_38.selectedItem.data == 0)
				{
					Alert.show("请选择领证人有效证件类别!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_39.text) == "")
				{
					Alert.show("请输入领证人证件号码!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_40.text) == "")
				{
					Alert.show("请选择填表日期!","系统提示");
					return;
				}
				if(this.d301_22.selectedItem.data == 0)
				{
					Alert.show("请选择出生地点分类!","系统提示");
					return;
				}
				if(this.d301_23.enabled == true && StringUtil.trim(this.d301_23.text) == "")
				{
					Alert.show("请输入出生地其它!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_27.text) == "")
				{
					Alert.show("请输入签发人!","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_28.text) == "")
				{
					Alert.show("请选择签发时间!","系统提示");
					return;
				}
				
				var queryBirthRequest:QueryBirthRequest = new QueryBirthRequest();
				queryBirthRequest.d301_10 = this.d301_10.text;
				
				this.birthService.validateSaveBirthCertiticate(queryBirthRequest);
			}
			
			private function validateSaveBirthCertiticateHandler(event:ResultEvent):void
			{
				var queryBirthResponse:Object = event.result;
				if(!queryBirthResponse.state)
				{
					Alert.show(queryBirthResponse.errorMessage,"系统提示");
					return;
				}
				var queryBirthRequest:QueryBirthRequest = new QueryBirthRequest();
				
				queryBirthRequest.d301_10 = this.d301_10.text;
				queryBirthRequest.d301_26 = this.systemUser.institutionCode;
				
				
				this.birthService.validateStockCertiticate(queryBirthRequest);
			}
			
			private function validateStockCertiticateHandler(event:ResultEvent):void
			{
				var queryBirthResponse:Object = event.result;
				if(!queryBirthResponse.state)
				{
					Alert.show(queryBirthResponse.errorMessage,"系统提示");
					return;
				}
				
				this.savevalidateBirthCertificate();
			}
			
			private function savevalidateBirthCertificate():void
			{
				this.vBrithInfo = new VBirthInfo();
				
				this.d301.d30102 = StringUtil.trim(this.d301_02.text);
				this.d301.d30103 = this.d301_03.selectedItem.data;
				
				var dateTimeFormatter:DateTimeFormatter = new DateTimeFormatter();
				dateTimeFormatter.dateTimePattern = "yyyy-MM-dd";
				//var dateTime_str:String = dateTimeFormatter.format(this.d301_04.selectedDate);
				var dateTime_str:String = this.d301_04.text;
				this.d301_04_str = dateTime_str + " " +  this.hour.text + ":" + this.minute.text;
				this.d301_04_date = DateFormatter.parseDateString(this.d301_04_str);
				this.d301.d30104 = this.d301_04_date;
				
				this.d301.d30105 = this.d301_05.getAreaCode();
				this.d301.d30107 = this.d301_07.value;
				this.d301.d30147 = StringUtil.trim(this.d301_47.text);
				this.d301.d30108 = this.d301_08.value;
				this.d301.d30109 = this.d301_09.selectedItem.data;
				this.d301.d30110 = StringUtil.trim(this.d301_10.text);
				
				if(this.father.selected == true)
				{
					this.d301.d30167 ="1";
					this.d301.d30116 = StringUtil.trim(this.d301_11_16.text);
					this.d301.d30117 = StringUtil.trim(this.d301_12_17.text);
					this.d301.d30118 = DateField.stringToDate(this.d301_13_18.text,"YYYY-MM-DD");
					this.d301.d30119 = this.d301_14_19.selectedItem.data;
					this.d301.d30120 = this.d301_15_20.selectedItem.data;
					this.d301.d30135 = this.d301_34_35.selectedItem.data;
					this.d301.d30143 = StringUtil.trim(this.d301_43_.text);
					this.d301.d30148 = StringUtil.trim(this.d301_21_48.text);
					
					this.d301.d30111 = "";
					this.d301.d30134 = "";
					this.d301.d30112 = "";
					this.d301.d30113 = null;
					this.d301.d30114 = "";
					this.d301.d30115 = "";
					this.d301.d30121 = "";
					
					this.vBrithInfo.fatherType = this.d301_34_35.selectedItem.label;
					this.vBrithInfo.fatherNationality = this.d301_14_19.selectedItem.label;
					this.vBrithInfo.fatherVolk = this.d301_15_20.selectedItem.label;
					this.vBrithInfo.familyFaAddress = StringUtil.trim(this.d301_21_48.text) ;
				}else if(this.mother.selected == true)
				{
					this.d301.d30167 ="2";
					this.d301.d30111 = StringUtil.trim(this.d301_11_16.text);
					this.d301.d30112 = StringUtil.trim(this.d301_12_17.text);
					this.d301.d30113 = DateField.stringToDate(this.d301_13_18.text,"YYYY-MM-DD");
					this.d301.d30114 = this.d301_14_19.selectedItem.data;
					this.d301.d30115 = this.d301_15_20.selectedItem.data;
					this.d301.d30121 = StringUtil.trim(this.d301_21_48.text);
					this.d301.d30143 = StringUtil.trim(this.d301_43_.text);
					this.d301.d30134 = this.d301_34_35.selectedItem.data;
					
					this.d301.d30116 = "";
					this.d301.d30135 = "";
					this.d301.d30117 = "";
					this.d301.d30118 = null;
					this.d301.d30119 = "";
					this.d301.d30120 = "";
					this.d301.d30148 = "";
					
					this.vBrithInfo.montherType = this.d301_34_35.selectedItem.label;
					this.vBrithInfo.motherNationality = this.d301_14_19.selectedItem.label;
					this.vBrithInfo.motherVolk = this.d301_15_20.selectedItem.label;
					this.vBrithInfo.familyAddress = StringUtil.trim(this.d301_21_48.text) ;
				}else{
					if(StringUtil.trim(this.d301_11.text) != ""){
						this.d301.d30111 = StringUtil.trim(this.d301_11.text);
						this.d301.d30112 = StringUtil.trim(this.d301_12.text);
						this.d301.d30113 = DateField.stringToDate(this.d301_13.text,"YYYY-MM-DD");
						this.d301.d30114 = this.d301_14.selectedItem.data;
						this.d301.d30115 = this.d301_15.selectedItem.data;
						this.d301.d30134 = this.d301_34.selectedItem.data;
						this.d301.d30121 = StringUtil.trim(this.d301_21.text);
						
						this.vBrithInfo.montherType = this.d301_34.selectedItem.label;
						this.vBrithInfo.motherNationality = this.d301_14.selectedItem.label;
						this.vBrithInfo.motherVolk = this.d301_15.selectedItem.label;
						this.vBrithInfo.familyAddress = StringUtil.trim(this.d301_21.text) ;
					}
					if(StringUtil.trim(this.d301_16.text) != ""){
						this.d301.d30116 = StringUtil.trim(this.d301_16.text);
						this.d301.d30117 = StringUtil.trim(this.d301_17.text);
						this.d301.d30118 = DateField.stringToDate(this.d301_18.text,"YYYY-MM-DD");;
						this.d301.d30119 = this.d301_19.selectedItem.data;
						this.d301.d30120 = this.d301_20.selectedItem.data;
						this.d301.d30135 = this.d301_35.selectedItem.data;
						this.d301.d30148 = StringUtil.trim(this.d301_48.text);//父亲家庭地址
						
						this.vBrithInfo.fatherType = this.d301_35.selectedItem.label;
						this.vBrithInfo.fatherNationality = this.d301_19.selectedItem.label;
						this.vBrithInfo.fatherVolk = this.d301_20.selectedItem.label;
						this.vBrithInfo.familyFaAddress = StringUtil.trim(this.d301_48.text) ;
					}
					this.d301.d30167 = null;
					this.d301.d30143 = StringUtil.trim(this.d301_43.text);
				}
				
				this.d301.d30122 = this.d301_22.selectedItem.data;
				this.d301.d30123 = StringUtil.trim(this.d301_23.text);
				this.d301.d30124 = this.d301_24.selectedItem.data;
				this.d301.d30125 = StringUtil.trim(this.d301_25.text);
				this.d301.d30126 = this.d301_26.selectedItem.data;
				this.d301.d30127 = StringUtil.trim(this.d301_27.text);
				this.d301.d30128 = DateField.stringToDate(this.d301_28.text, "YYYY-MM-DD");
				this.d301.d30129 = this.d301_29.value;
				this.d301.d30130 = "1";//签发机构类型
				this.d301.d30131 = this.systemUser.areaCode;
				this.d301.d30132 = StringUtil.trim(this.d301_32.text);
				this.d301.d30133 = DateField.stringToDate(this.d301_33.text, "YYYY-MM-DD");
				this.d301.d30136 = StringUtil.trim(this.d301_36.text);
				this.d301.d30137 = this.d301_37.selectedItem.data;
				this.d301.d30138 = this.d301_38.selectedItem.data;
				this.d301.d30139 = StringUtil.trim(this.d301_39.text);
				this.d301.d30140 = DateField.stringToDate(this.d301_40.text, "YYYY-MM-DD");
				this.d301.d30142 = "0";//换发类型  0 首发        1换发        2补发
				this.d301.d30153 = this.d301_53.text;//结婚证编号
				this.d301.d30154 = this.d301_54.text;//亲子鉴定证明编号
				this.d301.d30155 = this.d301_55.selectedItem.data;
				this.d301.d30156 = this.d301_56;//分娩登记主键 d601_01
				this.d301.d30157 = this.d301_57;//首发登记表主键 d304_01
				
				this.vBrithInfo.sex = this.d301_03.selectedItem.label;
				this.vBrithInfo.birth = this.d301_04_str;
				this.vBrithInfo.health = this.d301_09.selectedItem.label;
				this.vBrithInfo.deliverDate = StringUtil.trim(this.d301_33.text);
				this.vBrithInfo.birthAreaName = this.d301_05.getAreaName();
				this.vBrithInfo.relation = this.d301_37.selectedItem.label;
				this.vBrithInfo.licensType = this.d301_38.selectedItem.label;
				this.vBrithInfo.licensDate = StringUtil.trim(this.d301_40.text);
				this.vBrithInfo.birthAreaType = this.d301_22.selectedItem.label;
				this.vBrithInfo.birthIns = this.d301_24.selectedItem.label;
				this.vBrithInfo.viseIns = this.d301_26.selectedItem.label;
				this.vBrithInfo.signDate = StringUtil.trim(this.d301_28.text);
				this.vBrithInfo.taishu = this.d301_55.selectedItem.label;
				
				var window:Confirmation = new Confirmation();
				window.owner = this;
				window.d301 = this.d301;
				window.vBirthInfo = this.vBrithInfo;
				PopUpManager.addPopUp(window,this);
				var x:Number = (this.parentApplication.mdiCanvas.width - window.width) / 2;
				var y:Number = (this.parentApplication.mdiCanvas.height - window.height) / 2;
				window.move(x, y);	
			}
			
			private function saveBirthCertificate():void
			{
				this.birthService.saveBirthCertificate(d301);
			}
			
			
			private function queryByIdHandler(event:ResultEvent):void
			{
				var flag:String = event.result as String;
				var urlRequest:URLRequest = null;
				if(flag == "1") {
					urlRequest = new URLRequest(this.parentApplication.contextRoot + "/print/printBirthInfo_new.jsp?d30110=" + this.d301.d30110 + "&userCode=" + this.systemUser.userCode);
				} else if(flag == "0") {
					urlRequest = new URLRequest(this.parentApplication.contextRoot + "/print/printBirthInfo.jsp?d30110=" + this.d301.d30110);
				}
				navigateToURL(urlRequest,"_blank");
			}
			
			/*----------监控出生地点分类-------------*/
			private function changeBrith():void
			{
				if(this.d301_22.selectedItem.data == 4)
				{
					this.d301_23.enabled = true;
				}else
				{
					this.d301_23.text = "";
					this.d301_23.enabled = false;
				}
			}
			
			private function changeLicen():void
			{
				var id:String = this.d301_37.selectedItem.data;
				if(id == "1")
				{
					if(this.father.selected){
						this.d301_36.text = this.d301_11_16.text;
						this.d301_39.text = this.d301_12_17.text;
						this.d301_38.selectedIndex = this.d301_34_35.selectedIndex;
					}else{
						this.d301_36.text = this.d301_16.text;
						this.d301_39.text = this.d301_17.text;
						this.d301_38.selectedIndex = this.d301_35.selectedIndex;
					}
					
				}else if(id == "2")
				{
					if(this.mother.selected){
						this.d301_36.text = this.d301_11_16.text;
						this.d301_39.text = this.d301_12_17.text;
						this.d301_38.selectedIndex = this.d301_34_35.selectedIndex;
					}else{
						this.d301_36.text = this.d301_11.text;
						this.d301_39.text = this.d301_12.text;
						this.d301_38.selectedIndex = this.d301_34.selectedIndex;
					}
				}else
				{
					this.d301_36.text = "";
					this.d301_39.text = "";
					this.d301_38.selectedIndex = 1;
				}
			}
			
			private function reChangeVisible(event:MouseEvent):void
			{
				a1.visible=true;
				d301_52.visible=true;
				d301_50.visible=true;
				a3.visible=true;
				a4.visible=true;
				a5.visible=true;
				this.redisableChange();
			}
			private function changeVisible(event:MouseEvent):void
			{
				a1.visible=false;
				d301_52.visible=false;
				d301_50.visible=false;
				a3.visible=false;
				a4.visible=false;
				a5.visible=false;
				this.d301_50.selectedIndex=0;
				
				this.d301_52.text="";
			}
			
			private function querysfdjb():void
			{
				if(this.parentMother.selected){
					if(this.d304_16.text == ""){
						Alert.show("请输入母亲姓名！","系统提示");
						return;
					}
					if(this.d304_18.text == ""){
						Alert.show("请输入母亲身份证号！","系统提示");
						return;
					}
				}else if(this.parentFather.selected){
					if(this.d304_16.text == ""){
						Alert.show("请输入父亲姓名！","系统提示");
						return;
					}
					if(this.d304_18.text == ""){
						Alert.show("请输入父亲身份证号！","系统提示");
						return;
					}
				}
				
				var querywindow:Querywindow = new Querywindow();
				querywindow.owner = this;
				if(this.parentMother.selected){
					querywindow.d30416 = StringUtil.trim(this.d304_16.text);
					querywindow.d30418 = StringUtil.trim(this.d304_18.text);
				}else if(this.parentFather.selected){
					querywindow.d30422 = StringUtil.trim(this.d304_16.text);
					querywindow.d30424 = StringUtil.trim(this.d304_18.text);
				}
				querywindow.d30411 = this.systemUser.institutionCode;
				PopUpManager.addPopUp(querywindow,this);
				var x:Number = (this.parentApplication.mdiCanvas.width - querywindow.width) / 2 + 50;
				var y:Number = (this.parentApplication.mdiCanvas.height - querywindow.height) / 2;
				querywindow.move(x, y);
			}
			private function query():void
			{
				if(StringUtil.trim(this.d301_52.text) == "")
				{
					Alert.show("请输入婴儿出生证号","系统提示");
					return;
				}
				if(StringUtil.trim(this.d301_50.selectedItem.shuzi) == ""
					|| this.d301_50.selectedItem.shuzi == 0)
				{
					Alert.show("请选择作废原因","系统提示");
					return;
				}
				var queryBirthRequest:QueryBirthRequest= new QueryBirthRequest();
				queryBirthRequest=new QueryBirthRequest();
				queryBirthRequest.d301_10=this.d301_52.text;
				queryBirthRequest.d301_42="0";
				queryBirthRequest.d301_26=this.d301_26.selectedItem.data;
				this.birthService.validateBirth(queryBirthRequest);
			}
			
			private function validateBirthHandler(event:ResultEvent):void
			{
				var country:int = this.getCountrySelectedIndex(ArrayCollection(this.d301_14.dataProvider));
				var volk:int = this.getVolkSelectedIndex(ArrayCollection(this.d301_15.dataProvider));
				var querybirthResponse:Object=event.result;
				var vd301:VD301 = querybirthResponse.vd301 as VD301;
				var fr:DateFormatter=new DateFormatter();
				var fs:DateFormatter=new DateFormatter();
				var ft:DateFormatter=new DateFormatter();
				fr.formatString="YYYY-MM-DD";
				fs.formatString="JJ";
				ft.formatString="NN";
				if(!querybirthResponse.state)
				{
					Alert.show(querybirthResponse.errorMessage,"系统提示");
					return;
					
				}
				
				//放入值到d301
				this.d301.d30153=vd301.d30153;//结婚证编号
				this.d301.d30154=vd301.d30154;//亲子鉴定证明编号
				this.d301.d30152=vd301.d30110;
				this.d301.d30152 = this.d301_52.text;//原出生证号
				
				this.d301.d30150 = this.d301_50.selectedItem.shuzi;
				this.d301_02.text=vd301.d30102;
				//性别  s301_01
				var sexDataProvider:ArrayCollection = ArrayCollection(this.d301_03.dataProvider);
				var d30103Index:int = this.getDropDownListSelectedIndex(sexDataProvider,vd301.d30103);
				this.d301_03.selectedIndex = d30103Index;
				
				//胎数 s301_08
				var d30155Provider:ArrayCollection = ArrayCollection(this.d301_55.dataProvider);
				var d30155Index:int = this.getDropDownListSelectedIndex(d30155Provider,vd301.d30155);
				this.d301_55.selectedIndex = d30155Index;
				
				this.d301_04.text=fr.format(vd301.d30104);
				this.hour.text=fs.format(vd301.d30104);
				this.minute.text=ft.format(vd301.d30104);
				//this.d301_05. = vd301.d30105Zh;//出生地
				//				this.d301_05.setAreaCode(vd301.d30105);
				this.d301_07.value = vd301.d30107;//出生孕周
				this.d301_47.text = vd301.d30147;//孕周天数
				this.d301_08.value = vd301.d30108;//身长
				this.d301_09.selectedIndex = Number(vd301.d30109);//健康状况 s301_02
				if(vd301.d30111 == null)
				{
					this.d301_11.text = "";//母亲姓名
					this.d301_12.text = "";//母亲身份证号
					this.d301_13.text = "";//母亲出生日期
					this.d301_16.text = "";//父亲姓名
					this.d301_17.text = "";//父亲身份证号
					this.d301_18.text = "";//父亲出生日期
					this.d301_43.text = "";//联系方式
					this.d301_14.selectedIndex = country;
					this.d301_19.selectedIndex = country;
					this.d301_15.selectedIndex = volk;
					this.d301_20.selectedIndex = volk;
					//					
					this.tab.selectedIndex = 1;
					this.d301_11_16.text = vd301.d30116;//父亲姓名
					this.d301_12_17.text = vd301.d30117;//父亲身份证号
					this.d301_13_18.text = vd301.d30118;//父亲出生日期
					this.d301_43_.text = vd301.d30143;//联系方式
					
					this.d301_21_48.text = vd301.d30148;//父亲家庭地址
					
					//父亲国籍 s301_03
					var countryDataProvider16:ArrayCollection = ArrayCollection(this.d301_14_19.dataProvider);
					var d302_19Index:int = this.getDropDownListSelectedIndex(countryDataProvider16,vd301.d30119);
					this.d301_14_19.selectedIndex = d302_19Index;
					
					//父亲民族 s301_04
					var volkDataProvider16:ArrayCollection = ArrayCollection(this.d301_15_20.dataProvider);
					var d301_20Index:int = this.getDropDownListSelectedIndex(volkDataProvider16,vd301.d30120);
					this.d301_15_20.selectedIndex = d301_20Index;
					
					//父亲有效证件类别
					var fatherCardTypeDataProvider16:ArrayCollection = ArrayCollection(this.d301_34_35.dataProvider);
					var d301_34_35Index:int = this.getDropDownListSelectedIndex(fatherCardTypeDataProvider16,vd301.d30135);
					this.d301_34_35.selectedIndex = d301_34_35Index;
					
				}else if(vd301.d30116 == null)
				{
					this.d301_11.text = "";//母亲姓名
					this.d301_12.text = "";//母亲身份证号
					this.d301_13.text = "";//母亲出生日期
					this.d301_16.text = "";//父亲姓名
					this.d301_17.text = "";//父亲身份证号
					this.d301_18.text = "";//父亲出生日期
					this.d301_43.text = "";//联系方式
					this.d301_14.selectedIndex = country;
					this.d301_19.selectedIndex = country;
					this.d301_15.selectedIndex = volk;
					this.d301_20.selectedIndex = volk;
					//					
					this.tab.selectedIndex = 1;
					this.mother.selected = true;
					this.d301_11_16.text = vd301.d30111;//母亲姓名
					this.d301_12_17.text = vd301.d30112;//母亲身份证号
					this.d301_13_18.text = vd301.d30113;//母亲出生日期
					this.d301_43_.text = vd301.d30143;//联系方式
					this.d301_21_48.text = vd301.d30121;//母亲家庭地址
					
					//母亲国籍 s301_03
					var countryDataProvider11:ArrayCollection = ArrayCollection(this.d301_14_19.dataProvider);
					var d301_14Index:int = this.getDropDownListSelectedIndex(countryDataProvider11, vd301.d30114);
					this.d301_14_19.selectedIndex = d301_14Index;
					
					//母亲民族 s301_04
					var volkDataProvider11:ArrayCollection = ArrayCollection(this.d301_15_20.dataProvider);
					var d301_15Index:int = this.getDropDownListSelectedIndex(volkDataProvider11,vd301.d30115);
					this.d301_15_20.selectedIndex = d301_15Index;
					
					//母亲有效证件类别
					var motherCardTypeDataProvider11:ArrayCollection = ArrayCollection(this.d301_34_35.dataProvider);
					var d301_34Index:int = this.getDropDownListSelectedIndex(motherCardTypeDataProvider11,vd301.d30134);
					this.d301_34_35.selectedIndex = d301_34Index;
				}else
				{
					this.d301_11_16.text = "";//母亲姓名
					this.d301_12_17.text = "";//母亲身份证号
					this.d301_13_18.text = "";//母亲出生日期
					this.d301_43_.text = "";//
					this.d301_14_19.selectedIndex = country;
					this.d301_15_20.selectedIndex = volk;
					//					
					this.tab.selectedIndex = 0;
					this.d301_11.text = vd301.d30111;//母亲姓名
					this.d301_12.text = vd301.d30112;//母亲身份证号
					this.d301_13.text = vd301.d30113;//母亲出生日期
					
					//母亲国籍 s301_03
					var countryDataProvider:ArrayCollection = ArrayCollection(this.d301_14.dataProvider);
					var d30114Index:int = this.getDropDownListSelectedIndex(countryDataProvider, vd301.d30114);
					this.d301_14.selectedIndex = d30114Index;
					
					//母亲民族 s301_04
					var volkDataProvider:ArrayCollection = ArrayCollection(this.d301_15.dataProvider);
					var d30215Index:int = this.getDropDownListSelectedIndex(volkDataProvider,vd301.d30115);
					this.d301_15.selectedIndex = d30215Index;
					
					//母亲有效证件类别
					var motherCardTypeDataProvider:ArrayCollection = ArrayCollection(this.d301_34.dataProvider);
					var d30134Index:int = this.getDropDownListSelectedIndex(motherCardTypeDataProvider,vd301.d30134);
					this.d301_34.selectedIndex = d30134Index;
					
					this.d301_16.text = vd301.d30116;//父亲姓名
					this.d301_17.text = vd301.d30117;//父亲身份证号
					this.d301_18.text = vd301.d30118;//父亲出生日期
					
					//父亲国籍 s301_03
					var d30119Index:int = this.getDropDownListSelectedIndex(countryDataProvider,vd301.d30119);
					this.d301_19.selectedIndex = d30119Index;
					
					//父亲民族 s301_04
					var d30220Index:int = this.getDropDownListSelectedIndex(volkDataProvider,vd301.d30120);
					this.d301_20.selectedIndex = d30220Index;
					
					//父亲有效证件类别
					var fatherCardTypeDataProvider:ArrayCollection = ArrayCollection(this.d301_35.dataProvider);
					var d30237Index:int = this.getDropDownListSelectedIndex(fatherCardTypeDataProvider,vd301.d30135);
					this.d301_35.selectedIndex = d30237Index;
					
					this.d301_21.text = vd301.d30121;//母亲地址
					
					this.d301_48.text = vd301.d30148;//父亲地址
					
					this.d301_43.text = vd301.d30143;//联系方式
					
				}
				
				//出生地点分类  s301_05
				var birthAddressDataProvider:ArrayCollection = ArrayCollection(this.d301_22.dataProvider);
				var d30222Index:int = this.getDropDownListSelectedIndex(birthAddressDataProvider,vd301.d30122);
				this.d301_22.selectedIndex = d30222Index;
				
				if(vd301.d30123 != null)
				{
					this.d301_23.text = vd301.d30123;//出生地其他
					this.d301_23.enabled = true;
				}else
				{
					this.d301_23.enabled = false;
				}
				
				//接生机构
				var birthDeliveryDataProvider:ArrayCollection = ArrayCollection(this.d301_24.dataProvider);
				var d30224Index:int = this.getDropDownListSelectedIndex(birthDeliveryDataProvider,vd301.d30124);
				this.d301_24.selectedIndex = d30224Index;
				
				this.d301_25.text = vd301.d30125;//接生员
				this.d301_27.text = vd301.d30127;//签发人
				//				this.d301_28.text = fr.format(vd301.d30128);//签发时间
				this.d301_29.value = vd301.d30129;//体重
				//				this.d301_31.text = vd301.d30131Zh;//所属地区
				this.d301_32.text = vd301.d30132;//住院病历号
				this.d301_33.text = vd301.d30133;//接生人填表日期
				
				this.d301_36.text = vd301.d30136;//领证人
				
				//与新生儿关系
				var relationDataProvider:ArrayCollection = ArrayCollection(this.d301_37.dataProvider);
				var d30137Index:int = this.getDropDownListSelectedIndex(relationDataProvider,vd301.d30137);
				this.d301_37.selectedIndex = d30137Index;
				
				//领证人有效证件类别
				var licensTypeDataProvider:ArrayCollection = ArrayCollection(this.d301_38.dataProvider);
				var d30138Index:int = this.getDropDownListSelectedIndex(licensTypeDataProvider,vd301.d30138);
				this.d301_38.selectedIndex = d30138Index;
				
				this.d301_39.text = vd301.d30139;//领证人证件号码
				this.d301_40.text = vd301.d30140;//领证人填表日期
				
				this.disableChange();
			}
			private function disableChange():void
			{
				this.d301_52.enabled = false;
				this.d301_50.enabled = false;
			}
			private function redisableChange():void
			{
				this.d301_52.enabled = true;
				this.d301_50.enabled = true;
			}
			
			/*----------------加载首发登记表信息---------------*/
			public function loadFirstBirthCertificateDJB(d304:VD304):void {
				var country:int = this.getCountrySelectedIndex(ArrayCollection(this.d301_14.dataProvider));  //默认国家
				var volk:int = this.getVolkSelectedIndex(ArrayCollection(this.d301_15.dataProvider));  //默认民族
				
				/*----------加载婴儿信息---------- */
				this.d301_02.text = d304.d30402;//婴儿姓名
				//性别  s301_01
				var sexDataProvider:ArrayCollection = ArrayCollection(this.d301_03.dataProvider);
				var d30103Index:int = this.getDropDownListSelectedIndex(sexDataProvider,d304.d30403);
				if(d30103Index != 0) {
					this.d301_03.selectedIndex = d30103Index;
				}
				//健康状况
				var healthDataProvider:ArrayCollection = ArrayCollection(this.d301_09.dataProvider);
				var d30109Index:int = this.getDropDownListSelectedIndex(healthDataProvider,d304.d30433);
				if(d30109Index != 0) {
					this.d301_09.selectedIndex = d30109Index;
				}
				//婴儿出生日期
				var d304_04:String = d304.d30404;
				this.d301_04.text = d304_04.substring(0,10);
				this.hour.text = d304_04.substring(11,13);
				this.minute.text = d304_04.substring(14,16);
				this.d301_05.setAreaCode(d304.d30405);//出生地
				this.d301_07.value =d304.d30406;//出生孕周
				this.d301_08.value = d304.d30408;//身长
				this.d301_29.value = d304.d30409;//体重
				this.d301_32.text = d304.d30410;//病例号
				this.d301_47.text = d304.d30407;//晕周天
				this.d301_53.text = d304.d30414;//结婚证编号
				this.d301_54.text = d304.d30415;//亲子鉴定证明编号
				//接生机构
				var birthDeliveryDataProvider:ArrayCollection = ArrayCollection(this.d301_24.dataProvider);
				var d30224Index:int = this.getDropDownListSelectedIndex(birthDeliveryDataProvider,d304.d30411);
				if(d30224Index != 0) {
					this.d301_24.selectedIndex = d30224Index;
				}
				this.d301_25.text = d304.d30412;//接生员
				this.d301_33.text = d304.d30413;//填表日期
				if(d304.d30445 =="1"){
					this.father.selected =true;
					this.tab.selectedIndex = 1;
					this.d301_11_16.text = d304.d30422;//父亲姓名
					this.d301_12_17.text = d304.d30424;//父亲身份证
					this.d301_21_48.text = d304.d30427;//父亲地址
					var countryDataProvider16_:ArrayCollection = ArrayCollection(this.d301_14_19.dataProvider);
					var d302_19_Index:int = this.getDropDownListSelectedIndex(countryDataProvider16_,d304.d30425);
					if(d302_19_Index != 0) {
						this.d301_14_19.selectedIndex = d302_19_Index;   //父亲国籍 s301_03
					}
					var volkDataProvider16_:ArrayCollection = ArrayCollection(this.d301_15_20.dataProvider);
					var d301_20_Index:int = this.getDropDownListSelectedIndex(volkDataProvider16_,d304.d30426);
					if(d301_20_Index != 0) {
						this.d301_15_20.selectedIndex = d301_20_Index;  //父亲民族 s301_04
					}
					var fatherCardTypeDataProvider16_:ArrayCollection = ArrayCollection(this.d301_34_35.dataProvider);
					var d30135_Index:int = this.getDropDownListSelectedIndex(fatherCardTypeDataProvider16_,d304.d30423);
					if(d30135_Index != 0) {
						this.d301_34_35.selectedIndex = d30135_Index;   //父亲有效证件类别
					} 
					if(d304.d30435Zh != null){
						this.d301_13_18.text = d304.d30435Zh;  //父亲出生日期
					}else{
						setSingleBirthday(null);
					}
					this.d301_43_.text = d304.d30439;
				}else if(d304.d30445 =="2"){
					this.mother.selected =true;
					this.tab.selectedIndex = 1;
					this.d301_11_16.text = d304.d30416;//母亲姓名
					this.d301_12_17.text = d304.d30418;//母亲身份证
					this.d301_21_48.text = d304.d30421;//母亲地址
					var countryDataProvider11_:ArrayCollection = ArrayCollection(this.d301_14_19.dataProvider);
					var d301_14_Index:int = this.getDropDownListSelectedIndex(countryDataProvider11_, d304.d30419);
					if(d301_14_Index != 0) {
						this.d301_14_19.selectedIndex = d301_14_Index;   //母亲国籍 s301_03
					}
					var volkDataProvider11_:ArrayCollection = ArrayCollection(this.d301_15_20.dataProvider);
					var d301_15_Index:int = this.getDropDownListSelectedIndex(volkDataProvider11_,d304.d30420);
					if(d301_15_Index != 0) {
						this.d301_15_20.selectedIndex = d301_15_Index;   //母亲民族 s301_04
					}
					var motherCardTypeDataProvider11_:ArrayCollection = ArrayCollection(this.d301_34_35.dataProvider);
					var d301_34_Index:int = this.getDropDownListSelectedIndex(motherCardTypeDataProvider11_,d304.d30417);
					if(d301_34_Index != 0) {
						this.d301_34_35.selectedIndex = d301_34_Index;  //母亲有效证件类别
					}
					if(d304.d30434Zh != null){
						this.d301_13_18.text = d304.d30434Zh;  //母亲出生日期
					}else{
						setSingleBirthday(null);
					}
					this.d301_43_.text = d304.d30439;
				}else{
					this.tab.selectedIndex = 0;
					if(d304.d30416 != null){
						this.d301_11.text = d304.d30416;//母亲姓名
						this.d301_12.text = d304.d30418;//母亲身份证
						this.d301_21.text = d304.d30421;//母亲地址
						var countryDataProvider11:ArrayCollection = ArrayCollection(this.d301_14.dataProvider);
						var d301_14Index:int = this.getDropDownListSelectedIndex(countryDataProvider11, d304.d30419);
						if(d301_14Index != 0) {
							this.d301_14.selectedIndex = d301_14Index;   //母亲国籍 s301_03
						}
						var volkDataProvider11:ArrayCollection = ArrayCollection(this.d301_15.dataProvider);
						var d301_15Index:int = this.getDropDownListSelectedIndex(volkDataProvider11,d304.d30420);
						if(d301_15Index != 0) {
							this.d301_15.selectedIndex = d301_15Index;   //母亲民族 s301_04
						}
						var motherCardTypeDataProvider11:ArrayCollection = ArrayCollection(this.d301_34.dataProvider);
						var d301_34Index:int = this.getDropDownListSelectedIndex(motherCardTypeDataProvider11,d304.d30417);
						if(d301_34Index != 0) {
							this.d301_34.selectedIndex = d301_34Index;  //母亲有效证件类别
						}
						if(d304.d30434Zh != null){
							this.d301_13.text = d304.d30434Zh;  //母亲出生日期
						}else{
							setMontherBirthday(null);
						}
						this.d301_43.text = d304.d30439;
					}
					if(d304.d30422 != null){
						this.d301_16.text = d304.d30422;//父亲姓名
						this.d301_17.text = d304.d30424;//父亲身份证
						this.d301_48.text = d304.d30427;//父亲地址
						var countryDataProvider16:ArrayCollection = ArrayCollection(this.d301_19.dataProvider);
						var d302_19Index:int = this.getDropDownListSelectedIndex(countryDataProvider16,d304.d30425);
						if(d302_19Index != 0) {
							this.d301_19.selectedIndex = d302_19Index;   //父亲国籍 s301_03
						}
						var volkDataProvider16:ArrayCollection = ArrayCollection(this.d301_20.dataProvider);
						var d301_20Index:int = this.getDropDownListSelectedIndex(volkDataProvider16,d304.d30426);
						if(d301_20Index != 0) {
							this.d301_20.selectedIndex = d301_20Index;  //父亲民族 s301_04
						}
						var fatherCardTypeDataProvider16:ArrayCollection = ArrayCollection(this.d301_35.dataProvider);
						var d30135Index:int = this.getDropDownListSelectedIndex(fatherCardTypeDataProvider16,d304.d30423);
						if(d30135Index != 0) {
							this.d301_35.selectedIndex = d30135Index;   //父亲有效证件类别
						} 
						if(d304.d30435Zh != null){
							this.d301_18.text = d304.d30435Zh;  //父亲出生日期
						}else{
							setFatherBirthday(null);
						}
					}
					this.d301_43.text = d304.d30439;
				}
				/*----------加载领证人信息---------- */
				this.d301_36.text = d304.d30428;//领证人姓名
				//与新生儿关系
				var relationDataProvider:ArrayCollection = ArrayCollection(this.d301_37.dataProvider);
				var d30137Index:int = this.getDropDownListSelectedIndex(relationDataProvider,d304.d30429);
				if(d30137Index != 0) {
					this.d301_37.selectedIndex = d30137Index;
				}
				//领证人有效证件类别
				var licensTypeDataProvider:ArrayCollection = ArrayCollection(this.d301_38.dataProvider);
				var d30138Index:int = this.getDropDownListSelectedIndex(licensTypeDataProvider,d304.d30430);
				if(d30138Index != 0) {
					this.d301_38.selectedIndex = d30138Index;
				}
				this.d301_39.text = d304.d30431;//领证人证件号码
				this.d301_56 = d304.d30432;
				this.d301_57 = d304.d30401;
			}
			
			//读卡(单亲)
			protected function readCardClickHandler(event:MouseEvent):void
			{
				try
				{
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(this.father.selected && sex=="女"){
							Alert.show("请读父亲信息！","系统提示");
						}else if(this.mother.selected && sex=="男"){
							Alert.show("请读母亲信息！","系统提示");
						}else{
							this.d301_11_16.text = array[0];//姓名
							this.d301_12_17.text = array[5];//身份证号
							this.d301_13_18.text = array[3];//出生日期
							this.d301_21_48.text = array[4];//家庭地址
							var nation:String = array[2] + "族";//民族
							var nationDataProvider:ArrayCollection = ArrayCollection(this.d301_15_20.dataProvider);
							var nationIndex:int = getNationDropDownListSelectedIndex(nationDataProvider,nation);
							this.d301_15_20.selectedIndex = nationIndex;
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			
			//读卡(母亲)
			protected function readCard_mother(event:MouseEvent):void
			{
				try
				{
					//readCard是调用index.js下的函数，读卡涉及index.jsp和index.js两个文件
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(sex=="女"){
							this.d301_11.text = array[0];//姓名
							this.d301_12.text = array[5];//身份证号
							this.d301_13.text = array[3];//出生日期
							this.d301_21.text = array[4];//家庭地址
							var nation:String = array[2] + "族";//民族
							var nationDataProvider:ArrayCollection = ArrayCollection(this.d301_15.dataProvider);
							var nationIndex:int = getNationDropDownListSelectedIndex(nationDataProvider,nation);
							this.d301_15.selectedIndex = nationIndex;
						}else{
							Alert.show("请读母亲信息！","系统提示");
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			
			//读卡(父亲)
			protected function readCard_father(event:MouseEvent):void
			{
				try
				{
					//readCard是调用index.js下的函数，读卡涉及index.jsp和index.js两个文件
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(sex=="男"){
							this.d301_16.text = array[0];//姓名
							this.d301_17.text = array[5];//身份证号
							this.d301_18.text = array[3];//出生日期
							this.d301_48.text = array[4];//家庭地址
							var nation:String = array[2] + "族";//民族
							var nationDataProvider:ArrayCollection = ArrayCollection(this.d301_20.dataProvider);
							var nationIndex:int = getNationDropDownListSelectedIndex(nationDataProvider,nation);
							this.d301_20.selectedIndex = nationIndex;
						}else{
							Alert.show("请读父亲信息！","系统提示");
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			
			//与新生儿关系（读卡）
			private function readCard_A(event:MouseEvent):void{
				try
				{
					//readCard是调用index.js下的函数，读卡涉及index.jsp和index.js两个文件
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						
						var array:Array = str.split(",");
						this.d301_36.text = array[0];//领证人姓名
						this.d301_39.text = array[5];//领证人身份证号
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			
			//是否登记过首发登记表（读卡）
			private function readCard_B(event:MouseEvent):void{
				try
				{
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						var array:Array = str.split(",");
						var sex:String = array[1];
						if(this.parentFather.selected && sex=="女"){
							Alert.show("请读父亲信息！","系统提示");
						}else if(this.parentMother.selected && sex=="男"){
							Alert.show("请读母亲信息！","系统提示"); 
						}else{
							this.d304_16.text = array[0];//领证人姓名
							this.d304_18.text = array[5];//领证人身份证号
							querysfdjb();
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			
			//读卡获取民族信息
			private function getNationDropDownListSelectedIndex(arrayCollection:ArrayCollection, defaultValue:String):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.label == defaultValue) {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			private function checkParent(event:MouseEvent):void{
				if(this.father.selected){
					this.d301_11_16.text =this.d301_16.text;
					this.d301_34_35.selectedIndex =this.d301_35.selectedIndex;
					this.d301_12_17.text =this.d301_17.text;
					this.d301_13_18.text =this.d301_18.text;
					this.d301_14_19.selectedIndex =this.d301_19.selectedIndex;
					this.d301_15_20.selectedIndex =this.d301_20.selectedIndex;
					this.d301_21_48.text =this.d301_48.text;
					this.d301_43_.text =this.d301_43.text;
				}else if(this.mother.selected){
					this.d301_11_16.text =this.d301_11.text;
					this.d301_34_35.selectedIndex =this.d301_34.selectedIndex;
					this.d301_12_17.text =this.d301_12.text;
					this.d301_13_18.text =this.d301_13.text;
					this.d301_14_19.selectedIndex =this.d301_14.selectedIndex;
					this.d301_15_20.selectedIndex =this.d301_15.selectedIndex;
					this.d301_21_48.text =this.d301_21.text;
					this.d301_43_.text =this.d301_43.text;
				}else if(this.parents.selected){
					this.d301_11_16.text ="";
					this.d301_34_35.selectedIndex =0;
					this.d301_12_17.text ="";
					this.d301_13_18.text ="";
					this.d301_14_19.selectedIndex =0;
					this.d301_15_20.selectedIndex =0;
					this.d301_43_.text ="";
					this.d301_21_48.text ="";
				}
			}
		]]>
	</fx:Script>
	<s:Scroller x="13" y="15" width="100%" height="100%" horizontalScrollPolicy="auto"
				verticalScrollPolicy="auto">
		<s:VGroup>
			<mx:TabNavigator chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent  label="首签确认" width="1134">
					<s:VGroup paddingBottom="2" paddingLeft="10" paddingRight="10">
						<s:HGroup width="100%" height="100%" verticalAlign="middle">
							<s:Label text="是否首次签发"/>
							<s:RadioButton id="shi" groupName="qf" label="是" click="changeVisible(event)" selected="true"/>
							<s:RadioButton id="fou" groupName="qf" label="否" click="reChangeVisible(event)"/>
							<s:Label text="请输入原出生证号" id="a1" visible="false"/><s:TextInput id="d301_52" width="100" visible="false"/>
							<s:Label text="作废原因" id="a3"  visible="false"/><s:DropDownList id="d301_50"  visible="false" dataProvider="{myDP}" labelField="zh" selectedIndex="0"/>
							<s:Button id="a4" click="query()" visible="false" label="确定"/>
							<s:Label text="此证号将被作废" color="#FF3030" visible="false" id="a5"/>
						</s:HGroup>
						<s:HGroup width="100%" height="100%" verticalAlign="middle" paddingBottom="5">
							<s:Label text="首发登记表查询条件" styleName="mustQuery"/>
							<s:RadioButton id="parentMother" groupName="fm" label="母亲" selected="true"/>
							<s:RadioButton id="parentFather" groupName="fm" label="父亲"/>
							<s:HGroup visible="true" id="fmload" verticalAlign="middle">
								<s:Label text="请输入姓名" paddingLeft="8"/><s:TextInput id="d304_16"/>
								<s:Label text="身份证号" /><s:TextInput id="d304_18" width="140"/>
								<s:Button click="querysfdjb()" label="查询"/>
								<s:Button label="读卡" id="duka1" width="60" click="readCard_B(event)" enabled="false"/>
							</s:HGroup>
						</s:HGroup>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			<mx:TabNavigator chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent  label="分娩信息" width="1134">
					<s:VGroup paddingBottom="10" paddingLeft="10" paddingRight="10">
						<mx:Grid width="100%">
							<mx:GridRow>
								<mx:GridItem>
									<s:Label text="姓　　名"/><s:TextInput id="d301_02"  width="125"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="性　　别"/><s:DropDownList id="d301_03" width="125" dataProvider="{sexData}" labelField="label" selectedIndex="0"/>
								</mx:GridItem>
								<mx:GridItem horizontalAlign="right">
									<s:Label text="身长"/><s:NumericStepper minimum="8" stepSize="0.1" maximum="100" value="50" id="d301_08" width="60"/><s:Label text="cm"/>
								</mx:GridItem>
								<mx:GridItem horizontalAlign="right">
									<s:Label text="出生孕周"/><s:NumericStepper id="d301_07" value="40" maximum="70" minimum="20" width="60"/>
									<s:Label text="周"/>
									<s:TextInput id="d301_47" width="20" text="0" restrict="0-7"/><s:Label text="天"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="病历号"/><s:TextInput id="d301_32" width="125"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="结   婚   证   编   号"/><s:TextInput id="d301_53" width="125" restrict="^ \f\n\r\t\v"/>
								</mx:GridItem>
							</mx:GridRow>
							<mx:GridRow>
								<mx:GridItem>
									<s:Label text="健康状况"/><s:DropDownList id="d301_09" width="125"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="出生证号"/><s:TextInput id="d301_10" width="125" />
								</mx:GridItem>
								<mx:GridItem horizontalAlign="left">
									<s:Label text="体重"/><s:NumericStepper  minimum="1" stepSize="0.1" maximum="10000" value="3000" id="d301_29" width="60"/><s:Label text="g"/>
								</mx:GridItem>
								<mx:GridItem horizontalAlign="left">
									<s:Label text="填表日期"/>
									<mx:DateField yearNavigationEnabled="true" id="d301_33" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
												  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
												  formatString="YYYY-MM-DD"/>
								</mx:GridItem>
								<mx:GridItem horizontalAlign="left">
									<s:Label text="接生员"/><component:FindSelectedItemComboBox id="d301_25" editable="true" width="125"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="亲子鉴定证明编号"/><s:TextInput id="d301_54" width="125" restrict="^ \f\n\r\t\v"/>
								</mx:GridItem>
							</mx:GridRow>
							<mx:GridRow>
								<mx:GridItem horizontalAlign="left" colSpan="12">
									<s:Label text="出生地址"/>
									<component:AreaComboBoxCommon id="d301_05" paddingBottom="10" paddingTop="5" horizontalAlign="left"/>
									<s:Label text="出生日期"/><!--<s:TextInput id="d301_04"/>-->
									<!--component:DateTimeField yearNavigationEnabled="true" id="d301_04" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
									monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
									formatString="YYYY-MM-DD"/-->
									<mx:DateField yearNavigationEnabled="true" id="d301_04" width="110" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
												  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
												  formatString="YYYY-MM-DD"/>
									<s:TextInput id="hour" maxChars="2" restrict="0-9" width="30"/><s:Label text="时"/>
									<s:TextInput id="minute" maxChars="2" restrict="0-9" width="30"/><s:Label text="分"/>
									<s:Label text="胎    数" paddingLeft="17"/><s:DropDownList id="d301_55" width="125"/>
								</mx:GridItem>
							</mx:GridRow>
						</mx:Grid>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			<mx:TabNavigator chromeColor="#ffffff" creationPolicy="all" id="tab">
				<s:NavigatorContent label="双亲信息" width="100%">
					<s:VGroup paddingBottom="10" paddingLeft="10" paddingRight="10">
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10" paddingRight="10" verticalAlign="middle">
							<s:Button label="读卡" id="duka2" width="60" click="readCard_mother(event)" enabled="false"/>
							<s:Label text="母亲姓名"/><s:TextInput id="d301_11" width="110" enabled="false"/>
							<s:Label text="证件类别"/><s:DropDownList id="d301_34" width="110" enabled="false" change="cardType_changeHandler(event)"/>
							<s:Label text="证件号码"/><s:TextInput id="d301_12" width="140" enabled="false"/>
							<s:Label text="出生日期"/><s:TextInput id="d301_13" width="85"/>
							<s:Label text="母亲国籍"/><s:DropDownList id="d301_14" width="120"/>
							<s:Label text="母亲民族"/><s:DropDownList id="d301_15" width="115"/>
						</s:HGroup>
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10" paddingRight="10" verticalAlign="middle">
							<s:Button label="读卡" id="duka3" width="60" click="readCard_father(event)" enabled="false"/>
							<s:Label text="父亲姓名"/><s:TextInput id="d301_16" width="110"/>
							<s:Label text="证件类别"/><s:DropDownList id="d301_35" width="110" change="cardType_changeHandler(event)"/>
							<s:Label text="证件号码"/><s:TextInput id="d301_17" width="140"/>
							<s:Label text="出生日期"/><s:TextInput id="d301_18" width="85"/>
							<s:Label text="父亲国籍"/><s:DropDownList id="d301_19" width="120"/>
							<s:Label text="父亲民族"/><s:DropDownList id="d301_20" width="115"/>
						</s:HGroup>
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10" paddingRight="10" verticalAlign="middle">
							<s:Label text="母亲地址"/><s:TextInput id="d301_21" width="300"/>
							<s:Label text="父亲地址"/><s:TextInput id="d301_48" width="300"/>
							<s:Label text="联系方式"/><s:TextInput id="d301_43"/>
						</s:HGroup>
					</s:VGroup>
				</s:NavigatorContent>
				<s:NavigatorContent label="单亲信息" width="100%">
					<s:VGroup paddingBottom="10" paddingLeft="10" paddingRight="10">
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10" paddingRight="10" verticalAlign="middle">
							<s:RadioButton label="父亲" id="father" groupName="parent" click="checkParent(event)"/>
							<s:RadioButton label="母亲" id="mother" groupName="parent" click="checkParent(event)"/>
							<s:RadioButton label="取消选中" id="parents" groupName="parent" click="checkParent(event)"/>
							<s:Button label="读卡" click="readCardClickHandler(event)" id="duka5" enabled="false"/>
						</s:HGroup>
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10" paddingRight="10" verticalAlign="middle">
							<s:Label text="姓　　名"/><s:TextInput id="d301_11_16"/>
							<s:Label text="证件类别"/><s:DropDownList id="d301_34_35" change="cardType_changeHandler(event)"/>
							<s:Label text="证件号码"/><s:TextInput id="d301_12_17" width="140"/>
							<s:Label text="出生日期"/><s:TextInput id="d301_13_18" width="100"/>
							<s:Label text="国　　籍"/><s:DropDownList id="d301_14_19" width="130"/>
							<s:Label text="民　　族"/><s:DropDownList id="d301_15_20" width="130"/>
						</s:HGroup>
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10" paddingRight="10" verticalAlign="middle">
							<s:Label text="联系方式"/><s:TextInput id="d301_43_"/>
							<s:Label text="身份证地址"/><s:TextInput id="d301_21_48" width="310"/>
						</s:HGroup>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			<mx:TabNavigator chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent label="领证人信息" width="1134">
					<s:VGroup paddingBottom="10" paddingLeft="10" paddingRight="10">
						<mx:Grid width="100%">
							<mx:GridRow>
								<mx:GridItem>
									<s:Label text="与新生儿关系"/><s:DropDownList id="d301_37" change="changeLicen()"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="领证人"/><s:TextInput id="d301_36"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="证件类别"/><s:DropDownList id="d301_38" change="cardType_changeHandler(event)"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="证件号码"/><s:TextInput id="d301_39" width="140"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="填表日期"/>
									<mx:DateField yearNavigationEnabled="true" id="d301_40" width="120" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
												  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
												  formatString="YYYY-MM-DD"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Button label="读卡" id="duka4" click="readCard_A(event)" enabled="false"/>
								</mx:GridItem>
							</mx:GridRow>
						</mx:Grid>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			<mx:TabNavigator chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent label="签发信息" width="1134">
					<s:VGroup paddingBottom="10" paddingLeft="10" paddingRight="10">
						<mx:Grid width="100%">
							<mx:GridRow>
								<mx:GridItem>
									<s:Label text="出生地点分类"/><s:DropDownList id="d301_22" change="changeBrith()"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="出生地其他"/><s:TextInput id="d301_23" enabled="false"/>
								</mx:GridItem>
								<mx:GridItem horizontalAlign="left">
									<s:Label text="接生机构"/><s:DropDownList id="d301_24"/>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="签证机构"/><s:DropDownList id="d301_26"/>
								</mx:GridItem>
								<mx:GridItem  width="100%">
									<mx:FormItem label="签发人" required="false" width="100%">
										<local:FindSelectedItemComboBox id="d301_27" editable="true"  width="122">
										</local:FindSelectedItemComboBox>
									</mx:FormItem>
								</mx:GridItem>
								<mx:GridItem>
									<s:Label text="签发时间"/><!--<s:TextInput id="d301_28"/>-->
									<mx:DateField yearNavigationEnabled="true" id="d301_28" width="120" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
												  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
												  formatString="YYYY-MM-DD"/>
								</mx:GridItem>
							</mx:GridRow>
						</mx:Grid>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			<s:HGroup contentBackgroundColor="#FF0000" verticalAlign="middle" horizontalAlign="right" paddingBottom="20" paddingTop="10" paddingLeft="10" width="1134" paddingRight="50" height="30">
				<s:Button label="确定" id="saveButton" click="validateSaveBirthCertiticate()"/>
			</s:HGroup>
		</s:VGroup>
	</s:Scroller>
</s:Module>