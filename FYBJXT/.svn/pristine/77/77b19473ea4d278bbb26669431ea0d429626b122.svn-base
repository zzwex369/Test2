<?xml version="1.0" encoding="utf-8"?>
<s:TitleWindow xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   xmlns:mx="library://ns.adobe.com/flex/mx"
			   xmlns:component="com.xyw.sys.custom.component.*"
			   cornerRadius="5" chromeColor="#6EE0ED"
			   width="800" height="586" close="removeWindow()" 
			   creationComplete="moduleCreationComplete()" title="超声筛查报告登记">
	<fx:Declarations>
		<s:RemoteObject id="f502Service" destination="f502Service"
						endpoint="{this.parentApplication.contextRoot}/messagebroker/amf"
						showBusyCursor="true">
			<s:method name="saveF502" result="saveF502Handler(event)"/>
		</s:RemoteObject>
		<s:RemoteObject id="systemService" destination="systemService"
						endpoint="{this.parentApplication.contextRoot}/messagebroker/amf"
						showBusyCursor="true">
			<s:method name="getComboBoxData" result="getComboBoxDataHandler(event)"/>
		</s:RemoteObject>
		
		
	</fx:Declarations>
	<fx:Style>
		@namespace s "library://ns.adobe.com/flex/spark";
		@namespace mx "library://ns.adobe.com/flex/mx";
		mx|GridItem
		{
			horizontalAlign:left;
			verticalAlign:middle;
		}
		s|TextInput
		{
			fontFamily:微软雅黑;
		}
		s|Button
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomButtonSkin");
		}
		s|DropDownList
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomDropDownListSkin");
			selectionColor:#DDDDDD;
			rollOverColor:#EEEEEE;	
		}
		.must {
			color:red;
			fontSize:20px;
			fontWeight:bold;
			paddingTop:5px;
		}
	</fx:Style>
	<fx:Script>
		<![CDATA[
			import com.xyw.module.msss.fnbj.model.F502;
			import com.xyw.module.msss.fnbj.model.F502Request;
			import com.xyw.module.msss.fnbj.model.F502Response;
			import com.xyw.module.msss.fnbj.model.VF501;
			import com.xyw.sys.custom.component.CompMethod;
			import com.xyw.sys.custom.component.LoadPicWindow;
			import com.xyw.sys.custom.component.UploadPic;
			import com.xyw.sys.model.ComboBoxDataRequest;
			import com.xyw.sys.model.SystemUser;
			import com.xyw.uploadPictures.model.PictureMessage;
			import com.xyw.uploadPictures.model.Pictures;
			
			import flash.net.navigateToURL;
			
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.controls.DateField;
			import mx.events.CloseEvent;
			import mx.events.FlexEvent;
			import mx.managers.PopUpManager;
			import mx.rpc.events.FaultEvent;
			import mx.rpc.events.ResultEvent;
			import mx.utils.StringUtil;
			public var vF501:Object;
			public var f502Request:F502Request =null; 
			private var f502:F502 =new F502();
			public var systemUser:SystemUser =null;
			private var comboBoxDataRequest:ComboBoxDataRequest;
			private var f502_02:String;
			private var f502Response:Object;
			[Bindable]
			private var size:int;//胎数
			[Bindable]
			private var hasSize:int=1;//多胎登记总数计数器
			[Bindable]
			public  var picData:ArrayCollection=new ArrayCollection();
			[Bindable]
			public  var csData:ArrayCollection;//传过来的多胎超声信息
			public function moduleCreationComplete():void
			{
				this.systemUser =this.parentApplication.systemUser;
				//加载f501数据
				this.F502_06.text = vF501.f50131.toString();//年龄
				size=vF501.f50115;
				this.f502_02 = vF501.f50101;//f501主键
				this.F502_03.text = vF501.f50103;//母亲姓名
				this.F502_04.text = vF501.f50105;//母亲证件号码
				this.F502_07.text = vF501.f50107;//电话号码
				this.F502_29.selectedIndex = Number(vF501.f50104);//证件类型
				
				this.initializeComboBox();
			}
			private function clearText(id:Object):void{
				id.text ="";
			}
			
		
			private function _initializeComboBox(sql:String,flag:String,showPrompt:Boolean=false):void
			{
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = showPrompt;
				comboBoxDataRequest.sql = sql;
				comboBoxDataRequest.flag = flag;
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
			}	
			
			
			private function initializeComboBox():void
			{
				_initializeComboBox("select t.d101_01, t.d101_02 from D101 t where t.d101_01 = '" + this.systemUser.institutionCode + "' or t.d101_11 ='" + this.systemUser.institutionCode +"'","D101",true);
				
				_initializeComboBox("select * from S301_01","S301_01",true);
				
				_initializeComboBox("select * from S301_06","S301_06",true);
				
				_initializeComboBox("select * from Z502_01","Z502_01");
				
				//_initializeComboBox("select * from Z502_02","Z502_02",true);
				
				_initializeComboBox("select * from Z502_03","Z502_03");
				
				_initializeComboBox("select * from Z502_05","Z502_05");
				
				_initializeComboBox("select t.s_01,t.s_02 from S301_10 t where t.S_05='5' and t.S_04 ="+this.systemUser.userCode,"S301_10_01");
				
				_initializeComboBox("select t.s_01,t.s_02 from S301_10 t where t.S_05='1' and t.S_04 ="+this.systemUser.userCode,"S301_10_02");

				_initializeComboBox("select t.s_01,t.s_02 from S301_10 t where t.S_05='7' and t.S_04 ="+this.systemUser.userCode,"S301_10_03");

			}
			
			private function _getComboBoxData(flag:String,equalsVal:String,idArr:Array,comboBoxDataList:ArrayCollection,index:int=1):void
			{
				if(flag ==equalsVal){
					if(idArr.length>1)
					{
						for(var k:int=0;k<idArr.length;k++)
						{
							idArr[k].dataProvider =comboBoxDataList;
							idArr[k].selectedIndex =index;
						}
						
					}else
					{
						idArr[0].dataProvider =comboBoxDataList;
						idArr[0].selectedIndex =index;
					}
				}
			}
			private function getComboBoxDataHandler(event:ResultEvent):void
			{
				var comboBoxDataResponse:Object =event.result;
				var flag:String =comboBoxDataResponse.flag;
				var comboBoxDataList:ArrayCollection =comboBoxDataResponse.comboBoxDataList;
			
				_getComboBoxData(flag,"D101",new Array(F502_25),comboBoxDataList,
					CompMethod.getDropDownListSelectedIndex(comboBoxDataList,this.systemUser.institutionCode));
				
				_getComboBoxData(flag,"S301_06",new Array(F502_29),comboBoxDataList);
				
				_getComboBoxData(flag,"Z502_01",new Array(F502_15),comboBoxDataList,0);
				
				//_getComboBoxData(flag,"Z502_02",new Array(F502_16),comboBoxDataList);
				_getComboBoxData(flag,"Z502_03",new Array(F502_17),comboBoxDataList,0);
				
				_getComboBoxData(flag,"Z502_05",new Array(F502_20),comboBoxDataList,1);
				
				_getComboBoxData(flag,"S301_10_01",new Array(F502_22),comboBoxDataList,0);
				
				_getComboBoxData(flag,"S301_10_02",new Array(F502_28),comboBoxDataList,0);
				
				_getComboBoxData(flag,"S301_10_03",new Array(F502_23),comboBoxDataList,0);

			}
			
			
			public function loadF501(vf501:VF501):void{
				this.f502_02 =vf501.f50101;
				this.F502_03.text =vf501.f50103;
				this.F502_04.text =vf501.f50105;
				this.F502_06.text  = vf501.f50131.toString();//年龄
				this.F502_29.selectedIndex =CompMethod.getDropDownListSelectedIndex(ArrayCollection(this.F502_29.dataProvider),vf501.f50104);
			}
			private function validate1():void{
				if(size!=hasSize)
				{
					Alert.show("请点击多胎超声信息登记按钮登记多胎信息!","系统提示");
					return;
				
				}
				
				
				if(StringUtil.trim(this.F502_03.text) == ""){
					Alert.show("请输入产妇姓名!","系统提示");
					return;
				}
				if(this.F502_29.selectedItem.data == 0)
				{
					Alert.show("请选择证件类型!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_04.text) == "")
				{
					Alert.show("请输入证件号码!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_06.text) == "")
				{
					Alert.show("请输入年龄!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_07.text) == "")
				{
					Alert.show("请输入联系电话!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_09.text) == "")
				{
					Alert.show("请输入超声号!","系统提示");
					return;
				}
				/* if(this.picData.length<2){
					Alert.show("请上传CLR和NT图片信息","系统提示");
					return ;
				} */
				if(this.F502_12.text != "")
				{
					if(StringUtil.trim(this.F502_12.text).length > 2){
						Alert.show("孕周不正确!","系统提示");
						return ;
					}
				}
				if(this.F502_17.selectedItem.data == 0)
				{
					Alert.show("请选择胎盘位置!","系统提示");
					return;
				}
				if(this.F502_15.selectedItem.data == 0)
				{
					Alert.show("请选择颅骨光环!","系统提示");
					return;
				}
				
				if(this.F502_30.text != "0")
				{
					if(Number(StringUtil.trim(this.F502_30.text)) > 6){
						Alert.show("孕周天数不能大于7!","系统提示");
						return ;
					}
				} else if(this.F502_30.text == ""){
					Alert.show("请输入孕周天!","系统提示");
					return ;
				}
				if(this.F502_25.selectedItem.data == 0)
				{
					Alert.show("请选择报告单位!","系统提示");
					return;
				}
				
				if(StringUtil.trim(this.F502_22.text) == "")
				{
					Alert.show("请输入报告医生!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_24.text) == "")
				{
					Alert.show("请选择报告时间!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_28.text) == "")
				{
					Alert.show("请输入录入人员!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_27.text) == "")
				{
					Alert.show("请选择录入时间!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_23.text) == "")
				{
					Alert.show("请输入审核医生!","系统提示");
					return;
				}
				if(!StringUtil.trim(F502_33.text))
				{
					Alert.show("请输入超声所见!","系统提示");
					return ;
				}
				if(!StringUtil.trim(F502_34.text))
				{
					Alert.show("请输入超声提示!","系统提示");
					return ;
				}
				
				if(this.picData.length==0){
					Alert.show("请上传CLR图片和NT图片","系统提示");
					return;
				}
					if(this.picData.length>0){
						var x:String ="";
						for(var a:int = 0;a<picData.length;a++){
							x+=picData[a].pic10;//把图片类型拼接起来，0102拼成一起，
						}
						if(x.indexOf("1")==-1){//如果picData集合属性pic10中不存在01（用1也可以）
							Alert.show("请上传NT图片","系统提示")
							return;
						}
						if(x.indexOf("2")==-1){
							Alert.show("请上传CLR图片","系统提示")
							return;
						}
					}
				this.saveRecord();
			}
			private function saveRecord():void{
				setF502_16();
				this.f502.f50205 ="2";
				this.f502.f50237 ="1";//检查序号现默认为1
				this.f502.f50240 ="2";
				this.f502.f50241 ="2";
				this.f502.f50249 ='3';
				this.f502.f50202 =this.f502_02;
				this.f502.f50236 = this.F502_27.text;
				this.f502.f50226 =this.systemUser.yingye;
				this.f502.f50215 =this.F502_15.selectedItem.data;
				this.f502.f50217 =this.F502_17.selectedItem.data;
				this.f502.f50220 =this.F502_20.selectedItem.data;
				this.f502.f50225 =this.F502_25.selectedItem.data;
				this.f502.f50229 =this.F502_29.selectedItem.data;
				this.f502.f50235 =CompMethod.getRadioButtonValue([F502_35])//脑部缺陷
				this.f502.f50238 =CompMethod.getRadioButtonValue([F502_38]);//筛查结果
				this.f502.f50203 =StringUtil.trim(this.F502_03.text);
				this.f502.f50204 =StringUtil.trim(this.F502_04.text);
				this.f502.f50207 =StringUtil.trim(this.F502_07.text);
				this.f502.f50208 =StringUtil.trim(this.F502_08.text);
				this.f502.f50209 =StringUtil.trim(this.F502_09.text);
				this.f502.f50222 =StringUtil.trim(this.F502_22.text);
				this.f502.f50223 =StringUtil.trim(this.F502_23.text);
				this.f502.f50239 =StringUtil.trim(this.F502_39.text);//第几子
				this.f502.f50228 =StringUtil.trim(this.F502_28.text);
				this.f502.f50230 =StringUtil.trim(this.F502_30.text);
				this.f502.f50233 =StringUtil.trim(this.F502_33.text);
				this.f502.f50234 =StringUtil.trim(this.F502_34.text);
				this.f502.f50206 =Number(StringUtil.trim(this.F502_06.text));	
				this.f502.f50210 =Number(StringUtil.trim(this.F502_10.text));
				this.f502.f50211 =Number(StringUtil.trim(this.F502_11.text));
				this.f502.f50212 =Number(StringUtil.trim(this.F502_12.text));
				this.f502.f50213 =Number(StringUtil.trim(this.F502_13.text));
				this.f502.f50214 =Number(StringUtil.trim(this.F502_14.text));
				this.f502.f50218 =Number(StringUtil.trim(this.F502_18.text));
				this.f502.f50219 =Number(StringUtil.trim(this.F502_19.text));
				this.f502.f50224 =DateField.stringToDate(this.F502_24.text,'YYYY-MM-DD');
				this.f502.f50227 =DateField.stringToDate(this.F502_27.text,'YYYY-MM-DD');
				var array:Array=new Array(this.f502,setPic(picData))
				var arrayCollection:ArrayCollection=new ArrayCollection();
				arrayCollection.addItem(array);
				if(csData)
				{
					for(var k:int=0;k<csData.length;k++)
					{
						var arr:Array=csData.getItemAt(k) as Array;
						arr[0]=setF502(arr[0]);
						arr[1]=setPic(arr[1]);
						arrayCollection.addItem(arr);
					}
				}
				saveButton.enabled=false;
				this.f502Service.saveF502(arrayCollection);
			}
			
			
			/**
			 * 放置数据
			 */
			private function setF502(f502:F502):F502
			{
				f502.f50202=this.f502.f50202;
				f502.f50203=this.f502.f50203;
				f502.f50204=this.f502.f50204;
				f502.f50205=this.f502.f50205;
				f502.f50206=this.f502.f50206;	
				f502.f50207=this.f502.f50207;
			
				f502.f50222=this.f502.f50222;
				f502.f50223=this.f502.f50223;
				f502.f50224=this.f502.f50224;
				f502.f50225=this.f502.f50225;
				f502.f50226=this.f502.f50226;
				f502.f50227=this.f502.f50227;
				f502.f50228=this.f502.f50228;
				f502.f50229=this.f502.f50229;
				
				f502.f50236=this.f502.f50236;
				f502.f50237=this.f502.f50237;//检查序号现默认为1
				f502.f50240=this.f502.f50240;
				f502.f50241=this.f502.f50241;
				f502.f50249=this.f502.f50249;
				
				return  f502;
			}
			
			
			private function setPic(arrPic:Object):ArrayCollection
			{
				var picArrayCollection:ArrayCollection=new ArrayCollection();
				for(var i:int=0;i<arrPic.length;i++)
				{ 
					var obj:Object=new Object();
					obj=arrPic[i];
					var image:Pictures = new Pictures();
					//image.pic02=f502_.f50201;
					image.pic04=obj.name;
					image.pic05=new Date();
					image.pic06='1';
					image.pic07=systemUser.institutionCode//机构编码
					image.pic08=systemUser.areaCode;//所属地区编码
					image.pic10=obj.pic10;
					var arr:Array=new Array(image,obj.data);
					picArrayCollection.addItem(arr);
				}
				return picArrayCollection;
			}
			
			protected function saveF502Handler(event:ResultEvent):void{
				f502Response =event.result;
				if(!f502Response.state){
					saveButton.enabled=true;
					Alert.show(f502Response.errorMessage,"系统提示");
					return;
				}
				Alert.show("保存成功！ ","系统提示",1,this,closeHandler);
			
			}
			
			private function closeHandler(event:CloseEvent):void
			{
				if(event.detail==1)
				{
					var index:Object=this.owner;
					index.refresh();
					if(f502Response.rowCount==1)
					{	
						var f50201:String = f502Response.f502.f50201 ;
						var url:String = this.parentApplication.contextRoot+"/FnbjcsbgServlet?_f50201="+f50201;
						navigateToURL(new URLRequest(url),null);
					}
					removeWindow();
				}
			}
			//读卡(母亲)
			protected function readCard_mother(event:MouseEvent):void
			{
				try
				{
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(sex=="女"){
							this.F502_03.text = array[0];//姓名
							this.F502_04.text = array[5];//身份证号
						}else{
							Alert.show("请读母亲信息！","系统提示");
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			private function removeWindow():void
			{
				PopUpManager.removePopUp(this);
			}
			
			private function setF502_16():void{
				this.f502.f50216="";
				var checkNum:int = this.checkHG.numElements;
				for(var i:int=0;i<checkNum;i++){
					var checkObj:Object = this.checkHG.getElementAt(i);
					if(checkObj.selected){
						this.f502.f50216+=i+1+",";
					}else{
						this.f502.f50216+="0,";
					}
				}
			}
			
			private function clearF502_16(id:Object,k:int=0):void
			{
				var checkBox:CheckBox;
				for(var i:int =k;i<id.numElements;i++)
				{
					checkBox=id.getElementAt(i) as CheckBox;
					if(checkBox.selected)
					{
						checkBox.selected=false;
					}
				}
			}
			
			private function uploadPic(pic10:String):void{
				var detailTitleWindow:LoadPicWindow= new LoadPicWindow();
				detailTitleWindow.f50203=F502_03.text;
				detailTitleWindow.pic10=pic10;//"01"超声NT缩略图   "02";//超声CLR缩略图
				CompMethod.popUpTitleWindow(detailTitleWindow,this,true);
			}
			
			/*****************图片放入集合*******************/
			public function putPictures(arr:ArrayCollection):void
			{
				try
				{
					picData.addAll(arr);
					
				} 
				catch(error:Error) 
				{
					Alert.show("上传图片异常","系统提示");
					trace("index.putPictures(arr)"+error);
					
				}
			}
				
			private function button1_clickHandler(event:MouseEvent):void
			{
				var detailTitleWindow:csxxWindow= new csxxWindow();
				detailTitleWindow.dataArr=new Array(F502_15.dataProvider,F502_17.dataProvider,F502_20.dataProvider,F502_03.text);
				CompMethod.popUpTitleWindow(detailTitleWindow,this,true);
				detailTitleWindow.hasSize=hasSize;
				
			}
			
			public function setCSData(arr:Array):void
			{
				if(!csData)
					csData=new ArrayCollection();
				++hasSize;
				csData.addItem(arr);
			}
		]]>
	</fx:Script>
		<s:VGroup width="788" height="555" paddingBottom="20" paddingLeft="10" paddingRight="10"
				  paddingTop="10" chromeColor="#cccccc">
			<mx:TabNavigator width="772" height="97" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="基本信息">	
					<mx:Grid width="770" height="76" paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="产妇姓名"/>	
								<s:TextInput id="F502_03" width="150" enabled="false"/>	
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label styleName="myLabel" width="73" paddingLeft="15" text="证件类型"/>
								<s:DropDownList id="F502_29" width="150" enabled="false"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="证件号码"/>
								<s:TextInput id="F502_04" width="150" enabled="false"/>
								<s:Label styleName="must myLabel" text="*"/>
								<!--<s:Button label="读卡" id="duka2" enabled="false" width="50" click="readCard_mother(event)"/>-->
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label styleName="myLabel" width="48" text="年   龄"/>
								<s:TextInput id="F502_06" width="150" enabled="false" restrict="0-9"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" width="73" paddingLeft="15" text="联系电话"/>
								<s:TextInput id="F502_07" width="150" enabled="false" maxChars="12"
											 restrict="0-9"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<mx:TabNavigator width="772" height="{size&gt;1?298:277}" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="超声信息">	
					<mx:Grid  paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="超 声 号"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_09" width="140"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel"  text="头 臀 径"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_10" width="47" maxChars="4" restrict="0-9."
											 text="0" focusIn="clearText(F502_10)"/>
								<s:Label styleName="myLabel" width="30" paddingLeft="0" text="mm"/>
								<s:Button id="clrPic" width="69" label="上传" click="uploadPic('02')"
										  color="red" icon="@Embed('images/upload.png')"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label styleName="myLabel"  paddingLeft="15" text="NT"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_13" width="60" maxChars="4" restrict="0-9."
											 text="0" focusIn="clearText(F502_13)"/>
								<s:Label styleName="myLabel" width="30" paddingLeft="0" text="mm"/>
								<s:Button id="ctPic" width="70" label="上传" click="uploadPic('01')"
										  color="red" icon="@Embed('images/upload.png')"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem >
								<s:Label styleName="myLabel" text="双  顶  径"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_11" width="140" maxChars="5" restrict="0-9."
											 text="0" focusIn="clearText(F502_11)"/>
								<s:Label styleName="myLabel" paddingLeft="0" text="mm"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label styleName="myLabel" text="孕     周"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:BorderContainer width="140" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="F502_12" width="41" borderVisible="false"
													 maxChars="2" restrict="0-9" text="12"
													 textAlign="right"/>
										<s:Label styleName="myLabel" paddingRight="0" text="周"/>
										<s:TextInput id="F502_30" width="42" borderVisible="false"
													 maxChars="1" restrict="0-6" text="0"
													 textAlign="right"/>
										<s:Label styleName="myLabel" paddingRight="0" text="天"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel"  paddingLeft="15" text="心率"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_14" width="140" restrict="0-9" maxChars="3" text="0" focusIn="clearText(F502_14)"/>
								<s:Label styleName="myLabel" text="次/分    "/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							
							
							
							<mx:GridItem>
								<s:Label styleName="myLabel" text="羊水深度"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_19" width="140" maxChars="3" restrict="0-9"
											 text="0" focusIn="clearText(F502_19)"/>
								<s:Label styleName="myLabel" paddingLeft="0" text="mm"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="胎盘位置"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:DropDownList id="F502_17" width="140"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" paddingLeft="15" text="胎盘厚度"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_18" width="140" maxChars="3" restrict="0-9"
											 text="0" focusIn="clearText(F502_18)"/>
								<s:Label styleName="myLabel" paddingLeft="0" text="mm"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem >
								<s:Label styleName="myLabel" text="脑部缺陷"/>
							</mx:GridItem>
							<mx:GridItem colSpan="5" id="F502_35">
								<s:RadioButton id="F502_35_02" value="2" label="否" groupName="F502_35" buttonMode="true"
											   selected="true" click="clearF502_16(checkHG,0)"/>
								<s:RadioButton id="F502_35_01" value="1" label="是" groupName="F502_35" buttonMode="true"/>
								<s:HGroup id="checkHG" gap="10" paddingLeft="15" enabled="{F502_35_01.selected}">
									<s:CheckBox id="F502_16_01" buttonMode="true" label="无脑儿"/>
									<s:CheckBox id="F502_16_02" buttonMode="true" label="露脑畸形"/>
									<s:CheckBox id="F502_16_03" buttonMode="true" label="严重脑膨出"/>
									<s:CheckBox id="F502_16_04" buttonMode="true" label="严重胸腹壁缺损"/>
									<s:CheckBox id="F502_16_05" buttonMode="true" label="严重开放性脊柱裂声像表现"/>
								</s:HGroup>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							
							<mx:GridItem>
								<s:Label styleName="myLabel" text="颅骨光环"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:DropDownList id="F502_15" width="140"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label styleName="myLabel" text="宫颈内口"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:DropDownList id="F502_20" width="140"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem >
								<s:Label styleName="myLabel" paddingLeft="15" text="检查结果  "/>
							</mx:GridItem>
							<mx:GridItem id="F502_38">
								<s:RadioButton label="阴性" value="1" groupName="F502_38" buttonMode="true" selected="true"/>
								<s:RadioButton label="阳性" value="2" groupName="F502_38" buttonMode="true"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="超声所见"/>
							</mx:GridItem>
							<mx:GridItem colSpan="5">
								<s:TextInput id="F502_33" width="95%"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							
							
						</mx:GridRow>
						<mx:GridRow>
							
							<mx:GridItem>
								<s:Label styleName="myLabel" text="提示"/>
							</mx:GridItem>
							<mx:GridItem colSpan="5">
								<s:TextInput id="F502_34" width="95%"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem >
								<s:Label styleName="myLabel" text="临床诊断"/>
							</mx:GridItem>
							<mx:GridItem colSpan="3">
								<s:TextInput id="F502_08" width="398"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" paddingLeft="15" text="第几子"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:TextInput id="F502_39" width="136" text="1" enabled="false"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow visible="{size&gt;1}" includeInLayout="{size&gt;1}">
							<mx:GridItem colSpan="6">
								<s:Button label="多胎超声信息登记" buttonMode="true"
										  click="button1_clickHandler(event)" color="#F12B63"
										  enabled="{size!=hasSize}"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			
			</mx:TabNavigator>	
			<!--<component:PicTabNavigator id="picTabNavigator"/> 	//-->
			<mx:TabNavigator width="772" height="94" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="报告信息">	
					<mx:Grid width="770" height="86" paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="报告单位"/>
								<s:DropDownList id="F502_25" width="140" enabled="false"/>
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem width="244">
								<s:Label styleName="myLabel" width="67" paddingLeft="15" text="报告医生"/>
								<component:FindSelectedItemComboBox id="F502_22" width="140"
																	height="21" editable="true"/>
								<!--<s:TextInput id="F502_22" width="140"/>-->
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" width="76" paddingLeft="15" text="报告时间"/>
							
								<component:CustomRangeDateField  id="F502_24" width="140" isSelectNow="true"/>

								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label styleName="myLabel" text="录入人员"/>
								<component:FindSelectedItemComboBox id="F502_28" width="140"
																	height="21" editable="true"/>
								<!--<s:TextInput id="F502_28" width="140"/>-->
								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" width="67" paddingLeft="15" text="录入时间"/>
								
								<component:CustomRangeDateField  id="F502_27" isSelectNow="true" width="140" enabled="false" />

								<s:Label styleName="must myLabel" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label styleName="myLabel" width="76" paddingLeft="15" text="审核医生"/>
								<component:FindSelectedItemComboBox id="F502_23" width="140"
																	height="21" editable="true"/>
								<s:Label  styleName="must myLabel" text="*"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			</mx:TabNavigator>	
			
			<s:HGroup width="100%" height="40" horizontalAlign="center" paddingBottom="10"
					  verticalAlign="middle">
				<s:Button id="saveButton" label="保存" click="validate1()" buttonMode="true"/>
			</s:HGroup>
		</s:VGroup>
</s:TitleWindow>
