<?xml version="1.0" encoding="utf-8"?>
<mx:ProgressBar xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:s="library://ns.adobe.com/flex/spark" 
				xmlns:mx="library://ns.adobe.com/flex/mx"
				trackHeight="20" minimum="0"
				visible="true" direction="right" mode="manual"
				height="20"	width="200" fontSize="12" 
				labelPlacement="center" label="数据加载中  .  .  ." 
				creationComplete="creationComplete()" chromeColor="#C1C1C1">
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import flash.utils.Timer;
			import mx.managers.PopUpManager;
			private function close():void{
				PopUpManager.removePopUp(this);
				timer.stop();
			}
			private var timer:Timer;
			
			private function creationComplete():void {
				timer = new Timer(17);
				timer.addEventListener(TimerEvent.TIMER, timer_timer);
				playProgressBar();
			}
			
			private function timer_timer(evt:TimerEvent):void {
				this.setProgress(this.value + 1, 100);
				if(this.value>=100){
					resetProgressBar();
					
				}
			}
			
			private function progressBar_complete(evt:Event):void {
				timer.stop();
			}
			
			public function resetProgressBar():void {
				this.setProgress(0, 100);
				this.scaleX = 1.0; // 100%
				this.scaleY = 1.0; // 100%
				this.alpha = 1.0; // 100%
			}
			private function playProgressBar():void {
				resetProgressBar();
				timer.start();
			}
		]]>
	</fx:Script>
</mx:ProgressBar>