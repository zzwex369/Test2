<?xml version="1.0" encoding="utf-8"?>
<s:Module xmlns:fx="http://ns.adobe.com/mxml/2009"
		  xmlns:s="library://ns.adobe.com/flex/spark"
		  xmlns:mx="library://ns.adobe.com/flex/mx"
		  xmlns:component="com.xyw.sys.custom.component.*"
		  width="100%" height="100%" creationComplete="moduleComplete(event)">
	<fx:Declarations>
		<s:RemoteObject id="e305Service" destination="e305Service"
						endpoint="{this.parentApplication.contextRoot}/messagebroker/amf"
						showBusyCursor="true">
			<s:method name="saveE305" result="saveE304Handler(event)"/>
		</s:RemoteObject>
		<s:RemoteObject id="e301Service" destination="e301Service" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="queryE301"  result="queryE301Handler(event)"/>
			<s:method name="queryE301All" result="queryE301AllHandler(event)"/>
		</s:RemoteObject>
		<s:RemoteObject id="systemService" destination="systemService"
						endpoint="{this.parentApplication.contextRoot}/messagebroker/amf"
						showBusyCursor="true">
			<s:method name="getComboBoxData" result="getComboBoxDataHandler(event)"/>
		</s:RemoteObject>
		
		
		<s:Parallel id="parallel" target="{certificateDataGrid}" 
					effectStart="this.currentState=='special'"
					effectEnd="this.currentState=='normal'">
			<!--模糊-->
			<!--<mx:Blur duration="1000" 
			blurXFrom="10.0" blurXTo="0.0" 
			blurYFrom="10.0" blurYTo="0.0"/>-->
			<!--正常-->
			<!--<mx:Blur duration="1000"
			blurXFrom="0.0" blurXTo="10.0" 
			blurYFrom="0.0" blurYTo="10.0"/>-->
			<s:Resize widthFrom="300" widthTo="1158" heightFrom="100"  heightTo="246"  duration="1300"/>
		</s:Parallel>
		
		
		<s:GlowFilter id="glow1" color="#de7800"/>
		<s:AnimateFilter id="effect1" bitmapFilter="{glow1}" duration="2000" repeatBehavior="reverse"
						 repeatCount="0" target="{lbl}">
			<s:SimpleMotionPath property="blurX" valueFrom="0" valueTo="20"/>
			<s:SimpleMotionPath property="blurY" valueFrom="0" valueTo="20"/>
		</s:AnimateFilter>
	</fx:Declarations>
	<fx:Style>
		@namespace s "library://ns.adobe.com/flex/spark";
		@namespace mx "library://ns.adobe.com/flex/mx";
		 s|Label
		{
			fontSize:12;
		} 
		
		s|DataGrid
		{
			borderAlpha:"0.3";
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomDataGridSkin");
			alternatingRowColors:"[#FFFFFF,#EEEEEE]";
		}
		
		mx|GridItem
		{
			horizontalAlign:left;
			verticalAlign:middle;
		}
		
		 s|TextInput
		{
			fontFamily:微软雅黑;
		} 
		s|Button
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomButtonSkin");
		}
		s|DropDownList
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomDropDownListSkin");
			selectionColor:#DDDDDD;
			rollOverColor:#EEEEEE;	
		}
		.must {
			color:red;
			fontSize:20px;
			fontWeight:bold;
			paddingTop:5px;
		}
		.pt5{
			paddingTop:5px;
		}
	</fx:Style>
	<fx:Script>
		<![CDATA[
			import com.xyw.module.etbj.etbjzhcx.zhTitle;
			import com.xyw.module.etbj.etsfdj.QueryWindow;
			import com.xyw.module.etbj.model.E301Request;
			import com.xyw.module.etbj.model.E305;
			import com.xyw.module.etbj.model.VE301;
			import com.xyw.sys.custom.component.ClearText;
			import com.xyw.sys.custom.component.CompMethod;
			import com.xyw.sys.model.ComboBoxDataRequest;
			import com.xyw.sys.model.SystemUser;
			
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.core.UIComponent;
			import mx.events.FlexEvent;
			import mx.formatters.DateFormatter;
			import mx.managers.PopUpManager;
			import mx.rpc.events.ResultEvent;
			import mx.utils.StringUtil;
			
			import spark.events.GridSelectionEvent;
			import spark.events.IndexChangeEvent;
			
			private var e305:E305 =new E305();
			public var systemUser:SystemUser = null;
			public var array:Array = new Array();
			private var comboBoxDataRequest:ComboBoxDataRequest;
			
			
			private function onSelected(event:GridSelectionEvent):void{
				this.currentState=this.states[0].name;
				loadPerinatalHealth(DataGrid(event.target).selectedItem );
				
	
			}
			
			private function moduleComplete(event:FlexEvent):void
			{
				this.systemUser = this.parentApplication.systemUser;
				//检查读卡权限
				if(this.systemUser.duka =="1"){
					this.duka1.enabled =true;
				}
				var now:Date =new Date();
				this.e305_74.selectedDate =now;
				this.F301_05.addEventListener(FocusEvent.FOCUS_OUT,validateCard);
				
				this.initializeComboBox();
				
			}
			public function queryF301():void
			{
				queryetjcdj(1,10);
			}
			
			public function pagerFunction(currentPageIndex:int, pageSize:int):void
			{
				queryetjcdj(currentPageIndex,pageSize);
			}
			
			public function refresh():void
			{
				queryetjcdj(pagerBar.currentPageIndex,10);
			}
			
			
			/**
			 *
			 */
			private function verificaText():Array
			{
				var hasVal:Boolean=false;
				var result:Array=new Array(4);
				var f30102:String=StringUtil.trim(F301_02.text);
				var f30105:String=StringUtil.trim(F301_05.text);
				var f30111:String=StringUtil.trim(F301_11.text);
				if(f30102||f30105||f30111)
				{
					result[1]=f30102;
					result[2]=f30105;
					result[3]=f30111;
					hasVal=true;
				}
				result[0]=hasVal;
				return result;
			}
			
			private function queryetjcdj(currentPageIndex:int, pageSize:int):void
			{
				var e301Request:E301Request  = new E301Request();
				
				var type:String = E301_16.getLastSelectedInstitution();
				var e30116:String = E301_16.getLastSelectedInstitutionCode();
				
				e301Request.e30116 = (type == "10")?e30116:e30116.substring(0,Number(type));
				
				var result:Array=verificaText();
				if(result[0])
				{
					e301Request.f30102 = result[1];
					e301Request.f30105 = result[2];
					e301Request.e30111 = result[3];
				}else
				{
					if(CompMethod.getTimeSpace(timeStart,timeEnd))
					{
						return;
					}
					
					e301Request.e30114Start=DateField.stringToDate(timeStart.text,'YYYY-MM-DD');
					e301Request.e30114End=DateField.stringToDate(timeEnd.text,'YYYY-MM-DD');
					
					
				}
				
				e301Request.parameterPageindex = currentPageIndex;
				e301Request.parameterPagesize = pageSize;
				
				this.e301Service.queryE301(e301Request);
			}
			
			
			private function queryE301Handler(event:ResultEvent):void {
				var e301Response:Object = event.result;
				
				if(e301Response.state){
					var rowCount:int=e301Response.rowCount;
					if(rowCount)
					{
						this.currentState=this.states[1].name;
						parallel.play();
						callLater(getData,[e301Response.ve301s,rowCount]);
					}else
						Alert.show('暂无数据',"系统提示");
				
				}else{
					Alert.show(e301Response.errorMessage,"系统提示");
				}
			}
			
			/**
			 *
			 */
			private function getData(data:ArrayCollection,rowCount:int):void
			{
				pagerBar.dataGrid = certificateDataGrid;  
				pagerBar.rowCount = rowCount;
				pagerBar.resultData = data;
				pagerBar.dataBind();
				pagerBar.pagerFunction = pagerFunction;
				if(rowCount > 0) {
					pagerBar.enabled = true;
				}
			}
			
			private function validateCard(event:Event):void{
				var IC:String = this.F301_05.text;
				if(IC.length>=15){
					if(IC.length != 15 && IC.length != 18){
						Alert.show("身份证号长度是15或18位","系统提示");
						return;
					}else{
						var n:String = IC.substring(IC.length-1,IC.length);
						if((n>='a'&&n<='z')){
							IC.replace(n,n.toLowerCase());
							this.F301_05.text = IC.substring(0,IC.length-1)+n.toUpperCase();
						}
					}
				}
			}
			
			private function initializeComboBox():void
			{
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "D101";//单位
				comboBoxDataRequest.sql = "select t.d101_01, t.d101_02 from D101 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "s301_01";//单位
				comboBoxDataRequest.sql = "select * from s301_01 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z303_03";//单位
				comboBoxDataRequest.sql = "select * from z303_03 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "s601_02";//单位
				comboBoxDataRequest.sql = "select * from s601_02 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_01";//单位
				comboBoxDataRequest.sql = "select * from z305_01 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_02";//单位
				comboBoxDataRequest.sql = "select * from z305_02 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_03";//单位
				comboBoxDataRequest.sql = "select * from z305_03 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_04";//单位
				comboBoxDataRequest.sql = "select * from z305_04 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_05";//单位
				comboBoxDataRequest.sql = "select * from z305_05 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_06";//单位
				comboBoxDataRequest.sql = "select * from z305_06 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_07";//单位
				comboBoxDataRequest.sql = "select * from z305_07 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_08";//单位
				comboBoxDataRequest.sql = "select * from z305_08 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_09";//单位
				comboBoxDataRequest.sql = "select * from z305_09 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "z305_10";//单位
				comboBoxDataRequest.sql = "select * from z305_10 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.flag = "s601_03";//单位
				comboBoxDataRequest.sql = "select * from s601_03 t";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
			}
			
			private function getComboBoxDataHandler(event:ResultEvent):void
			{
				var comboBoxDataResponse:Object =  event.result;
				var flag:String = comboBoxDataResponse.flag;
				var comboBoxDataList:ArrayCollection = comboBoxDataResponse.comboBoxDataList;
				if(flag == "D101")
				{
					var index:int = this.getDropDownListSelectedIndex(comboBoxDataList, this.systemUser.institutionCode);
					this.e305_72.dataProvider = comboBoxDataList;
					this.e305_72.selectedIndex = 0;
					this.e305_17.dataProvider = comboBoxDataList;
					this.e305_17.selectedIndex = 0;
					this.e305_81.dataProvider = comboBoxDataList;
					this.e305_81.selectedIndex = 0;
				}else if(flag == "s301_01")//性别
				{
					this.e305_03.dataProvider = comboBoxDataList;
					this.e305_03.selectedIndex = index;
				}else if(flag == "s601_02")//职业
				{
					this.e305_08.dataProvider = comboBoxDataList;
					this.e305_08.selectedIndex = 0;
					this.e305_12.dataProvider = comboBoxDataList;
					this.e305_12.selectedIndex = 0;
				}else if(flag == "s601_03")//有无
				{
					this.e305_20.dataProvider = comboBoxDataList;
					this.e305_20.selectedIndex = 1;
					this.e305_23.dataProvider = comboBoxDataList;
					this.e305_23.selectedIndex = 1;
					this.e305_32.dataProvider = comboBoxDataList;
					this.e305_32.selectedIndex = 1;
					this.e305_50.dataProvider = comboBoxDataList;
					this.e305_50.selectedIndex = 1;
					this.e305_70.dataProvider = comboBoxDataList;
					this.e305_70.selectedIndex = 1;
				}else if(flag == "z303_03")//是否异常
				{
					this.e305_44.dataProvider = comboBoxDataList;
					this.e305_46.dataProvider = comboBoxDataList;
					this.e305_48.dataProvider = comboBoxDataList;
					this.e305_52.dataProvider = comboBoxDataList;
					this.e305_56.dataProvider = comboBoxDataList;
					this.e305_58.dataProvider = comboBoxDataList;
					this.e305_60.dataProvider = comboBoxDataList;
					this.e305_62.dataProvider = comboBoxDataList;
					this.e305_64.dataProvider = comboBoxDataList;
					this.e305_66.dataProvider = comboBoxDataList;
					this.e305_44.selectedIndex = 3;
					this.e305_46.selectedIndex = 3;
					this.e305_48.selectedIndex = 3;
					this.e305_52.selectedIndex = 3;
					this.e305_56.selectedIndex = 3;
					this.e305_58.selectedIndex = 3;
					this.e305_60.selectedIndex = 3;
					this.e305_62.selectedIndex = 3;
					this.e305_64.selectedIndex = 3;
					this.e305_66.selectedIndex = 3;
				}else if(flag == "z305_01")//母亲妊娠期患病情况
				{
					this.e305_16.dataProvider = comboBoxDataList;
					this.e305_16.selectedIndex = 0;
				}else if(flag == "z305_02")//出生情况
				{
					this.e305_18.dataProvider = comboBoxDataList;
					this.e305_18.selectedIndex = 1;
				}else if(flag == "z305_03")//新生儿听力筛查
				{
					this.e305_25.dataProvider = comboBoxDataList;
					this.e305_25.selectedIndex = 1;
				}else if(flag == "z305_04")//喂养方式
				{
					this.e305_29.dataProvider = comboBoxDataList;
					this.e305_29.selectedIndex = 1;
				}else if(flag == "z305_05")//面色
				{
					this.e305_38.dataProvider = comboBoxDataList;
					this.e305_38.selectedIndex = 1;
				}
					//else if(flag == "z305_06")//黄疸部位
					//{
					//this.e305_40.dataProvider = comboBoxDataList;
					//this.e305_40.selectedIndex = 1;
					//}
				else if(flag == "z305_07")//前卤
				{
					this.e305_42.dataProvider = comboBoxDataList;
					this.e305_42.selectedIndex = 1;
				}else if(flag == "z305_08")//皮肤
				{
					this.e305_54.dataProvider = comboBoxDataList;
					this.e305_54.selectedIndex = 1;
				}else if(flag == "z305_09")//脐带
				{
					this.e305_68.dataProvider = comboBoxDataList;
					this.e305_68.selectedIndex = 1;
				}else if(flag == "z305_10")//大便
				{
					this.e305_33.dataProvider = comboBoxDataList;
					this.e305_33.selectedIndex = 1;
				}
			}
			/*----------建档单位-----------------*/
			private function getDropDownListSelectedIndex(arrayCollection:ArrayCollection, defaultValue:String):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.data == defaultValue) {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}	
				return index;
			}
			/*-----------------默认国籍 中国---------------------*/
			private function getCountrySelectedIndex(arrayCollection:ArrayCollection):int
			{
				var len:uint = arrayCollection.length;
				var i:uint = 0;
				var index:int = 0;
				while(i < len) {
					var comboBoxDataP:Object = arrayCollection.getItemAt(i);
					if(comboBoxDataP.data == "CHN") {
						index = arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			protected function readCard_B(event:MouseEvent):void
			{
				try
				{
					//readCard是调用index.js下的函数，读卡涉及index.jsp和index.js两个文件
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(sex=="女"){
							this.F301_02.text = array[0];//姓名
							this.F301_05.text = array[5];//身份证号
							queryF301();
						}else{
							Alert.show("请读母亲信息！","系统提示");
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			/*----------------加载妇女档案信息---------------*/
			public function loadPerinatalHealth(ve301:Object):void
			{
				this.e305.e30578=ve301.e30101;
				this.e305_02.text = ve301.e30103.toString();
				var e305_03DataPrivider:ArrayCollection =ArrayCollection(this.e305_03.dataProvider);
				var e30503Index:int =this.getDroupDownListSelectedIndex(e305_03DataPrivider,ve301.e30104);
				this.e305_03.selectedIndex =e30503Index;
				this.e305_04.text = ve301.e30106Str.toString();
				
				this.e305_07.text =ve301.f30118; //父亲姓名
				this.e305_08.selectedIndex =Number(ve301.f30127); //职业
				this.e305_09.text =ve301.f30128; //联系电话
				this.e305_10.text =ve301.f30122Str; //出生日期
				
				this.e305_11.text =ve301.f30102;   //母亲姓名
				this.e305_12.selectedIndex =Number(ve301.f30111); //职业
				this.e305_13.text =ve301.f30113; //联系电话
				this.e305_14.text =ve301.f30106Str; //出生日期
				
				var e305_17DataProvider:ArrayCollection =ArrayCollection(this.e305_17.dataProvider);
				var e30517Index:int =this.getDroupDownListSelectedIndex(e305_17DataProvider,ve301.e30121);
				this.e305_17.selectedIndex =e30517Index;
				
				var e305_81DataProvider:ArrayCollection =ArrayCollection(this.e305_81.dataProvider);
				var e30581Index:int =this.getDroupDownListSelectedIndex(e305_81DataProvider,ve301.e30116);
				this.e305_81.selectedIndex =e30581Index;
			}
			
			private function getDroupDownListSelectedIndex(arrayCollection:ArrayCollection,defaultValue:String):int{
				var len:int =arrayCollection.length;
				var i:uint =0;
				var index:int =0;
				while(i<len){
					var comboBoxDataP:Object =arrayCollection.getItemAt(i);
					if(comboBoxDataP.data ==defaultValue){
						index =arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			
			private function validate1():void
			{
				if(this.e305_02.text ==""){
					Alert.show("请输入儿童姓名","系统提示");
					return;
				}
				if(this.e305_04.text ==""){
					Alert.show("请选择出生日期！","系统提示");
					return;
				}
				/* if(this.e305_07.text ==""){
				Alert.show("请输入父亲姓名","系统提示");
				return;
				} */
				if(this.e305_11.text ==""){
					Alert.show("请输入母亲姓名","系统提示");
					return;
				}
				
				
				if(this.e305_33.selectedIndex == 3&&!e305_83.text){
					Alert.show("请输入大便其他！","系统提示");
					return;				
				}
				
				if(this.e305_38.selectedIndex == 3&&!e305_39.text){
					Alert.show("请输入面色其他！","系统提示");
					return;				
				}
				
				if(this.e305_42.selectedIndex == 4&&!e305_43.text){
					Alert.show("请输入前卤其他！","系统提示");
					return;				
				}
				/////
				if(this.e305_44.selectedIndex == 2&&!e305_45.text){
					Alert.show("请输入眼外观异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_46.selectedIndex == 2&&!e305_47.text){
					Alert.show("请输入四肢活动度异常部位！","系统提示");
					return;				
				}
				
				if(this.e305_48.selectedIndex == 2&&!e305_49.text){
					Alert.show("请输入耳外观异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_50.selectedIndex == 2&&!e305_51.text){
					Alert.show("请输入颈部包块说明！","系统提示");
					return;				
				}
				
				if(this.e305_52.selectedIndex == 2&&!e305_53.text){
					Alert.show("请输入鼻异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_54.selectedIndex == 4&&!e305_55.text){
					Alert.show("请输入皮肤其他说明！","系统提示");
					return;				
				}
				
				if(this.e305_56.selectedIndex == 2&&!e305_57.text){
					Alert.show("请输入口腔异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_58.selectedIndex == 2&&!e305_59.text){
					Alert.show("请输入肛门异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_60.selectedIndex == 2&&!e305_61.text){
					Alert.show("请输入心肺听诊说明！","系统提示");
					return;				
				}
				
				if(this.e305_62.selectedIndex == 2&&!e305_63.text){
					Alert.show("请输入外生殖器异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_64.selectedIndex == 2&&!e305_65.text){
					Alert.show("请输入腹部触诊说明！","系统提示");
					return;				
				}
				
				if(this.e305_66.selectedIndex == 2&&!e305_67.text){
					Alert.show("请输入脊柱异常说明！","系统提示");
					return;				
				}
				
				if(this.e305_68.selectedIndex == 4&&!e305_69.text){
					Alert.show("请输入脐带其他说明！","系统提示");
					return;				
				}
				
				if(this.e305_70.selectedIndex == 2){
					if(!e305_71.text)
					{
						Alert.show("请输入转诊建议原因！","系统提示");
						return;	
					}
					
					if(!e305_79.text)
					{
						Alert.show("请输入转诊科室！","系统提示");
						return;	
					}
					
					if(!e305_72.selectedIndex)
					{
						Alert.show("请选择转诊机构","系统提示");
						return;
					}
								
				}
				
				if(e305_73_9.selected&&!e305_87.text){
					Alert.show("请输入指导其他！","系统提示");
					return;				
				}
				
				if(this.e305_74.text ==""){
					Alert.show("请选择随访日期！","系统提示");
					return;
				}
				if(this.e305_81.selectedIndex == 0){
					Alert.show("请选择随访机构！","系统提示");
					return;				
				}
				
				if(!e305_77.text)
				{
					Alert.show("请输入随访医生！","系统提示");
					return;	
				}
				
				this.save();
			}
			public function save():void{
				
				this.e305.e30502=this.e305_02.text;
				this.e305.e30503=this.e305_03.selectedItem.data;
				this.e305.e30504=DateField.stringToDate(this.e305_04.text, "YYYY-MM-DD"); 
				this.e305.e30505=this.e305_05.text;
				this.e305.e30506=this.e305_06.text;
				this.e305.e30507=this.e305_07.text;
				this.e305.e30508=this.e305_08.selectedItem.data;
				this.e305.e30509=this.e305_09.text;
				this.e305.e30510=e305_10.text?DateField.stringToDate(this.e305_10.text, "YYYY-MM-DD"):null; 
				this.e305.e30511=this.e305_11.text;
				this.e305.e30512=this.e305_12.selectedItem.data;
				
				this.e305.e30513=this.e305_13.text;
				this.e305.e30514=DateField.stringToDate(this.e305_14.text, "YYYY-MM-DD");	
				
				this.e305.e30515=this.e305_15.text;
				this.e305.e30516=this.e305_16.selectedItem.data;
				this.e305.e30517=this.e305_17.selectedItem.data;
				this.e305.e30518=this.e305_18.selectedItem.data;
				this.e305.e30519=this.e305_19.text;
				this.e305.e30520=this.e305_20.selectedItem.data;
				this.e305.e30521=this.e305_21.text;
				
				this.e305.e30522=this.e305_22.text;
				this.e305.e30523=this.e305_23.selectedItem.data;
				this.e305.e30524=this.e305_24.text;
				this.e305.e30525=this.e305_25.selectedItem.data;
				this.e305.e30526=this.e305_26.text;
				this.e305.e30527=this.e305_27.text;
				this.e305.e30528=this.e305_28.text;
				
				this.e305.e30529=this.e305_29.selectedItem.data;
				this.e305.e30530=this.e305_30.text;
				this.e305.e30531=this.e305_31.text;
				this.e305.e30532=this.e305_32.selectedItem.data;
				this.e305.e30533=this.e305_33.selectedItem.data;
				this.e305.e30534=this.e305_34.text;
				this.e305.e30535=this.e305_35.text;
				this.e305.e30536=this.e305_36.text;
				this.e305.e30537=this.e305_37.text;
				
				this.e305.e30538=this.e305_38.selectedItem.data;
				this.e305.e30539=this.e305_39.text;
				this.e305.e30540=CompMethod.getCheckBoxAutomationName([e305_40])[1];
				array[1]=this.e305_41_0.text;
				array[2]=",";
				array[3]=this.e305_41_1.text;
				this.e305.e30541=array[1]+array[2]+array[3];
				this.e305.e30542=this.e305_42.selectedItem.data;
				this.e305.e30543=this.e305_43.text;
				this.e305.e30544=this.e305_44.selectedItem.data;
				this.e305.e30545=this.e305_45.text;
				this.e305.e30546=this.e305_46.selectedItem.data;
				this.e305.e30547=this.e305_47.text;
				this.e305.e30548=this.e305_48.selectedItem.data;
				this.e305.e30549=this.e305_49.text;
				this.e305.e30550=this.e305_50.selectedItem.data;
				this.e305.e30551=this.e305_51.text;
				this.e305.e30552=this.e305_52.selectedItem.data;
				this.e305.e30553=this.e305_53.text;
				this.e305.e30554=this.e305_54.selectedItem.data;
				this.e305.e30555=this.e305_55.text;
				this.e305.e30556=this.e305_56.selectedItem.data;
				this.e305.e30557=this.e305_57.text;
				this.e305.e30558=this.e305_58.selectedItem.data;
				this.e305.e30559=this.e305_59.text;
				this.e305.e30560=this.e305_60.selectedItem.data;
				this.e305.e30561=this.e305_61.text;
				this.e305.e30562=this.e305_62.selectedItem.data;
				this.e305.e30563=this.e305_63.text;
				this.e305.e30564=this.e305_64.selectedItem.data;
				this.e305.e30565=this.e305_65.text;
				this.e305.e30566=this.e305_66.selectedItem.data;
				this.e305.e30567=this.e305_67.text;
				this.e305.e30568=this.e305_68.selectedItem.data;
				this.e305.e30569=this.e305_69.text;
				this.e305.e30570=this.e305_70.selectedItem.data;
				this.e305.e30571=this.e305_71.text;
				this.e305.e30572=this.e305_72.selectedItem.data;
				this.e305.e30573=CompMethod.getCheckBoxAutomationName([e305_73])[1];
				this.e305.e30580=CompMethod.getCheckBoxAutomationName([e305_80])[1];
				this.e305.e30574=DateField.stringToDate(this.e305_74.text, "YYYY-MM-DD"); 
				this.e305.e30575=this.e305_75.text;
				this.e305.e30576=DateField.stringToDate(this.e305_76.text, "YYYY-MM-DD"); 
				this.e305.e30577=this.e305_77.text;
				this.e305.e30579=this.e305_79.text;
				this.e305.e30581=this.e305_81.selectedItem.data;
				this.e305.e30583=StringUtil.trim(e305_83.text);
				this.e305.e30584=CompMethod.getRadioButtonValue([e305_84]);;
				this.e305.e30585=CompMethod.getCheckBoxAutomationName([e305_85])[1];
				this.e305.e30586=StringUtil.trim(e305_86.text);
				this.e305.e30587=StringUtil.trim(e305_87.text);
				this.e305Service.saveE305(e305);
			}     
			private function saveE304Handler(event:ResultEvent):void{   
				var f301Response:Object =  event.result;
				if(!f301Response.state) {
					Alert.show(f301Response.errorMessage,"系统提示");
					return;
				}
				var thisObj:Object=this;
				Alert.show("保存成功！ ","系统提示",1,this,
					function ():void
					{
						CompMethod._refreshIndex(thisObj,"com/xyw/module/etbj/etsfdj/index.swf");
					}
				);
			}
			
			
			//---------------综合查询-------------------------------------------------------
			private function Zhquery():void{//首先验证是否登记过儿童档案
				var e301Rquest:E301Request = new E301Request();
				if(this.F301_02.text=="" || this.F301_05.text==""){
					Alert.show("请输入产妇姓名和身份证号！","系统提示");
					return;
				}
				e301Rquest.e30126 = this.F301_02.text;//母亲姓名
				e301Rquest.e30127 = this.F301_05.text;//母亲身份证号
				this.e301Service.queryE301All(e301Rquest);
			}
			private function queryE301AllHandler(event:ResultEvent):void{
				var e301Response:Object = event.result;
				if(e301Response.state){
					if(e301Response.promptMessage!=null){
					 Alert.show(e301Response.promptMessage,"系统提示");
					}else{
						var sfAllDetails:SfAllDetails = new SfAllDetails();
						sfAllDetails._e30126 = this.F301_02.text;//产妇姓名
						sfAllDetails._e30127 = this.F301_05.text;//产妇身份证号
						sfAllDetails._e30103 = e301Response.e30103;//儿童姓名
						CompMethod.popUpTitleWindow(sfAllDetails,this,true);
					}
				}else{
				 Alert.show("查询失败！","系统提示");
				}
			}
			
			/**
			 *清空输入内容
			 */
			private function selectRange(event:IndexChangeEvent,val:*,id:*):void
			{
				var valArr:Array=val is int?[val]:val;
				doSelectRange(event.newIndex,valArr,id);
					
			}
			
			/**
			 *
			 */
			private function doSelectRange(newIdx:int,val:Array,id:*):void
			{
				var isSame:Boolean=false;
				for(var i:String in val)
				{
					if(val[i]==newIdx)
						isSame=true;
				}
				if(!isSame)
					setEleNull(id);
			}
			
			/**
			 *清空输入内容
			 */
			private function setEleNull(id:*,enabled:Boolean=false):void
			{
				var idArr:Array=id is UIComponent?[id]:id;
				for(var i:String in idArr)
				{
					if(idArr[i] is DropDownList)
						idArr[i].selectedIndex=0;
					else if(idArr[i] is TextInput)
						idArr[i].text='';
					else if(idArr[i] is CheckBox)
						idArr[i].selected=false;
					idArr[i].enabled=enabled;
				}
				
			}
			
			
			private function E305_87_01_changeHandler(event:Event):void
			{
				var radioButton:RadioButton=RadioButton(event.target);
				if(radioButton.selected)
				{
					CompMethod._walk(e305_85);
					setEleNull(e305_86);
				}
				
			}
			
			
			/**
			 *
			 */
			private function queryAll(event:MouseEvent):void
			{
				
				var result:Array=verificaText();
				if(!result[0])
				{
					Alert.show("请输入任一内容！","系统提示");
					return;	
				}
				var querywindow:zhTitle = new zhTitle();
				querywindow.parentName = result[1];
				querywindow.card = result[2];
				querywindow.phoneNumber = result[3];
				querywindow.creationMoveWindow(this);				
			}
		]]>
	</fx:Script>
	<s:states>
		<s:State name="normal"/>
		<s:State name="special"/>
	</s:states>
	<s:Scroller x="1" y="-1" width="100%"  horizontalScrollPolicy="auto"
				verticalScrollPolicy="auto" height="100%">
		<s:VGroup paddingBottom="20" paddingLeft="10" paddingRight="10" height="100%">
			<mx:TabNavigator id="content" width="1170" height.special="405" height.normal="117" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="产妇查询">			
					<s:VGroup paddingBottom="2" paddingLeft="10" paddingRight="10">	
						<s:HGroup width="100%" paddingBottom="5" paddingLeft="10"
								  paddingRight="10" verticalAlign="middle">
							
							<s:Label id="lbl" color="#FD0909" creationComplete="effect1.play();"
									 fontSize="16"
									 text="!  注意：若输入内容，查询不受日期条件限制，有读卡功能的直接读卡就可以查询"/>
						</s:HGroup>
						
						<s:HGroup width="100%" paddingBottom="0" paddingLeft="10"
								  paddingRight="10" verticalAlign="middle">
							<s:Label text="录入单位"/>
							<component:InstitutionComboBox id="E301_16" width="871"
														   buttonMode="true" villageVisible="true"/>
							
						</s:HGroup>
						
						<s:HGroup width="100%" height="100%" paddingBottom="5" verticalAlign="middle" gap="0">
							<s:HGroup id="fmload" visible="true" verticalAlign="middle">
								<s:Label paddingLeft="8" text="产妇姓名"/><s:TextInput id="F301_02"/>
								<s:Label text="证件号码"/><s:TextInput id="F301_05" width="140"/>
								<s:Label text="电话号码" /><s:TextInput id="F301_11" width="140"/>
								<s:Label text="登记时间"/><mx:DateField id="timeStart" width="120"
																	buttonMode="true"
																	dayNames="[&quot;周日&quot;,&quot;周一&quot;,&quot;周二&quot;,&quot;周三&quot;,&quot;周四&quot;,&quot;周五&quot;,&quot;周六&quot;]"
																	formatString="YYYY-MM-DD"
																	monthNames="[&quot;一月&quot;,&quot;二月&quot;,&quot;三月&quot;,&quot;四月&quot;,&quot;五月&quot;,&quot;六月&quot;,&quot;七月&quot;,&quot;八月&quot;,&quot;九月&quot;,&quot;十月&quot;,&quot;十一月&quot;,&quot;十二月&quot;]"
																	text="{DateField.dateToString(new Date(),'YYYY-MM-01')}"
																	yearNavigationEnabled="true"/>
								<s:Label text="至"/><mx:DateField id="timeEnd" width="120"
																 buttonMode="true"
																 dayNames="[&quot;周日&quot;,&quot;周一&quot;,&quot;周二&quot;,&quot;周三&quot;,&quot;周四&quot;,&quot;周五&quot;,&quot;周六&quot;]"
																 formatString="YYYY-MM-DD"
																 monthNames="[&quot;一月&quot;,&quot;二月&quot;,&quot;三月&quot;,&quot;四月&quot;,&quot;五月&quot;,&quot;六月&quot;,&quot;七月&quot;,&quot;八月&quot;,&quot;九月&quot;,&quot;十月&quot;,&quot;十一月&quot;,&quot;十二月&quot;]"
																 text="{DateField.dateToString(new Date(),'YYYY-MM-DD')}"
																 yearNavigationEnabled="true"/>
								<s:Button label="查询" click="queryF301()"/>	
								<s:Button id="duka1" width="60" label="读卡" click="readCard_B(event)" enabled="false"/>
								<s:Button label="综合查询" click="queryAll(event)"/>

							</s:HGroup>
						</s:HGroup>
						<s:VGroup paddingBottom="5" width="100%" height="100%" chromeColor="#F6F8FA" includeIn="special" >
								<s:DataGrid id="certificateDataGrid" alternatingRowColors="[#FFFFFF,#EEEEEE]"
											editable="false" rowHeight="22" width="1158" height="246" selectionChange="onSelected(event)">
									<s:columns>
										<s:ArrayList>
											<s:GridColumn visible="false" dataField="e30101" headerText="主键"/>
											<s:GridColumn width="40" editable="false" headerText="序号" itemRenderer="com.xyw.sys.custom.itemrenderer.CustomGridColumnItemRenderer"/>
											<s:GridColumn width="150" dataField="e30117" headerText="保健卡号"/>
											<s:GridColumn width="80" dataField="f30102" headerText="妇女姓名"/>
											<s:GridColumn width="140" dataField="f30105" headerText="妇女身份证号"/>
											<s:GridColumn width="80" dataField="f30118" headerText="配偶姓名"/>
											<s:GridColumn width="140" dataField="f30121" headerText="配偶身份证号"/>
											<s:GridColumn width="80" dataField="e30103" headerText="儿童姓名"/>
											<s:GridColumn width="80" dataField="e30104Zh" headerText="儿童性别"/>	
											<s:GridColumn width="80" dataField="e30113" headerText="出生证号"/>
											<s:GridColumn width="150" dataField="e30106Str" headerText="出生日期"/>
											<s:GridColumn width="80" dataField="e30110" headerText="联系人"/>
											<s:GridColumn width="80" dataField="e30111" headerText="联系电话"/>
											<s:GridColumn width="100" dataField="e30109Zh" headerText="家庭地址"/>
											<s:GridColumn width="100" dataField="e30112Zh" headerText="联系地址"/>
										</s:ArrayList>
									</s:columns>
								</s:DataGrid>	
						
							<component:PagerBar id="pagerBar" enabled="false" isExcel="false"
												isExcel2="false" isPrinter="false" pageSize="10"/>
						</s:VGroup>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="基本信息">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="儿    童     姓   名"/>
								<s:TextInput id="e305_02" width="130" enabled="false"/>
								<s:Label styleName="must" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="性        别" enabled="false"/>
								<s:DropDownList id="e305_03" width="130"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="出 生时 间" enabled="false"/>
								<mx:DateField id="e305_04" width="130"
											  dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD" yearNavigationEnabled="true" enabled="false"/>
								<s:Label styleName="must" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="身 份 证 号"/>
								<s:TextInput id="e305_05" width="130"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="家  庭 住 址"/>
								<s:TextInput id="e305_06" width="115"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="父    亲     姓   名"/>
								<s:TextInput id="e305_07" width="130" enabled="false"/>
								<!--<s:Label styleName="must" text="*"/>-->
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="职        业"/>
								<s:DropDownList id="e305_08" width="130" enabled="false"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="出 生时 间"/>
								<mx:DateField id="e305_10" width="130"
											  dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD" yearNavigationEnabled="true" enabled="false"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="联 系 电 话"/>
								<s:TextInput id="e305_09" width="130" enabled="false"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="母     亲    姓   名"/>
								<s:TextInput id="e305_11" width="130" enabled="false"/>
								<s:Label styleName="must" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="职        业" enabled="false"/>
								<s:DropDownList id="e305_12" width="130" enabled="false"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="出 生时 间"/>
								<mx:DateField id="e305_14" width="130"
											  dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD" yearNavigationEnabled="true" enabled="false"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="联 系 电 话"/>
								<s:TextInput id="e305_13" width="130" enabled="false"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="出 生  孕 周"/>
								<s:TextInput id="e305_15" width="115"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="母亲妊娠期患病"/>
								<s:DropDownList id="e305_16" width="130"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="助产机构"/>
								<s:DropDownList id="e305_17" width="130" />
								<s:Label styleName="must" text="*"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="出 生情 况"/>
								<s:DropDownList id="e305_18" width="130" change="selectRange(event,7,e305_19)"/>
							</mx:GridItem>
							<mx:GridItem colSpan="2">
								<s:Label paddingLeft="15" text="其 他 情 况"/>
								<s:TextInput id="e305_19" width="100%" enabled="{e305_18.selectedIndex==7}"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="分娩信息（新生儿）">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							
							<mx:GridItem>
								<s:Label text="出生体重"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_26" width="100" borderVisible="false" maxChars="3" textAlign="right" restrict="0-9|."/>
										<s:Label text="kg"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="出生身长"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_28" width="100" borderVisible="false" maxChars="4" textAlign="right" restrict="0-9|."/>
										<s:Label text="cm"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="窒               息"/>
								<s:DropDownList id="e305_20" width="130"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="apgar 1 分钟" paddingLeft="15"/>
								<s:TextInput id="e305_21" width="130" restrict="0-9" maxChars="2"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="apgar 5 分 钟"/>
								<s:TextInput id="e305_22" width="130" restrict="0-9" maxChars="2"/>
							</mx:GridItem>
							
						</mx:GridRow>
						<mx:GridRow>
							
							
							<mx:GridItem>
								<s:Label   text="听力筛查"/>
								<s:DropDownList id="e305_25" width="130"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="是否畸形"/>
								<s:DropDownList id="e305_23" width="130"  change="selectRange(event,2,e305_24)"/>
							</mx:GridItem>
							<mx:GridItem colSpan="3">
								<s:Label paddingLeft="15" text="畸  形   描  述"/>
								<s:TextInput id="e305_24" width="100%" enabled="{e305_23.selectedIndex==2}"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem  colSpan="2">
								<s:HGroup gap="5" id="e305_84">
									<s:Label text="疾病筛查" styleName="pt5"/>
									<s:RadioButton buttonMode="true" label="未进行" groupName="E305_84" value="1" change="E305_87_01_changeHandler(event)"/>
									<s:RadioButton buttonMode="true" label="检查均阴性" groupName="E305_84" value="2" id="e305_84_02"/>
								</s:HGroup>
								<s:HGroup gap="5" id="e305_85" enabled="{e305_84_02.selected}">
									<s:CheckBox buttonMode="true" label="甲低" automationName="3"/>
									<s:CheckBox buttonMode="true" label="苯丙酮尿症" automationName="4"/>
									<s:CheckBox buttonMode="true" id="e305_85_9" label="其他遗传代谢病" automationName="9"/>
								</s:HGroup>
							</mx:GridItem>
							<mx:GridItem colSpan="3">
								<s:Label text="其他遗传代谢病" paddingTop="5"/>
								<s:TextInput  id="e305_86" enabled="{e305_85_9.selected}" width="100%"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="询问情况">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="目前体重"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_27" width="100" borderVisible="false" maxChars="3" textAlign="right" restrict="0-9|."/>
										<s:Label text="kg"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="喂养方式"/>
								<s:DropDownList id="e305_29" width="130"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="吃  奶  量"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_30" width="85" borderVisible="false" maxChars="4" textAlign="right" restrict="0-9|."/>
										<s:Label text="mL/次"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="吃奶次数"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_31" width="85" borderVisible="false" maxChars="2" textAlign="right" restrict="0-9"/>
										<s:Label text="次/日"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="呕吐"/>
								<s:DropDownList id="e305_32" width="130"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
						
							<mx:GridItem>
								<s:Label  text="大        便"/>
								<s:DropDownList id="e305_33" width="130" change="selectRange(event,3,e305_83)"/>
							</mx:GridItem>
							
							<mx:GridItem colSpan="2">
								<s:Label paddingLeft="15" text="大便其他"/>
								<s:TextInput id="e305_83" width="100%" enabled="{e305_33.selectedIndex==3}"/>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="大便次数"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_34" width="85" borderVisible="false" maxChars="2" textAlign="right" restrict="0-9"/>
										<s:Label text="次/日"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							
							<mx:GridItem>
								<s:Label paddingLeft="15" text="体温"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_35" width="100" borderVisible="false" maxChars="4" textAlign="right" restrict="0-9|."/>
										<s:Label text="℃"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							
							<mx:GridItem>
								<s:Label text="脉        率"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_36" width="82" borderVisible="false" maxChars="3" textAlign="right" restrict="0-9"/>
										<s:Label text="次/分钟"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="呼吸频率"/>
								<s:BorderContainer width="130" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="e305_37" width="82" borderVisible="false" maxChars="2" textAlign="right" restrict="0-9"/>
										<s:Label text="次/分钟"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="面        色"/>
								<s:DropDownList id="e305_38" width="130" change="selectRange(event,3,e305_39)"/>
							</mx:GridItem>
							<mx:GridItem colSpan="2">
								<s:Label paddingLeft="15" text="面色其他"/>
								<s:TextInput id="e305_39" width="100%" enabled="{e305_38.selectedIndex==3}"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							
							<mx:GridItem colSpan="2">
								<s:Label text="黄疸部 位"/>
								<s:HGroup width="100%" height="100%" gap="35" id="e305_40">
									<s:CheckBox buttonMode="true" automationName="1" label="面部"/>
									<s:CheckBox buttonMode="true" automationName="2" label="躯干"/>
									<s:CheckBox buttonMode="true" automationName="3" label="四肢"/>
									<s:CheckBox buttonMode="true" automationName="4" label="手足"/>
								</s:HGroup>  
								
								
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="前卤(cm)"/>
								<s:TextInput id="e305_41_0" width="55" maxChars="3" restrict="0-9|."/>
								<s:Label text="/"/>
								<s:TextInput id="e305_41_1" width="55" maxChars="3" restrict="0-9|."/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="前卤评判"/>
								<s:DropDownList id="e305_42" width="130" change="selectRange(event,4,e305_43)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="其他"/>
								<s:TextInput id="e305_43" width="130" enabled="{e305_42.selectedIndex==4}"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="体格检查">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="眼         外       观"/>
								<s:DropDownList id="e305_44" width="130" change="selectRange(event,2,e305_45)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="眼  外  观  异  常"/>
								<s:TextInput id="e305_45" width="130" enabled="{e305_44.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="四 肢 活 动 度"/>
								<s:DropDownList id="e305_46" width="130"  change="selectRange(event,2,e305_47)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="异   常   评  判"/>
								<s:TextInput id="e305_47" width="130"  enabled="{e305_46.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="耳       外     观"/>
								<s:DropDownList id="e305_48" width="115" change="selectRange(event,2,e305_49)"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="耳  外  观  其  他"/>
								<s:TextInput id="e305_49" width="130" enabled="{e305_48.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="颈    部     包   块"/>
								<s:DropDownList id="e305_50" width="130" change="selectRange(event,2,e305_51)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="包   块  说   明"/>
								<s:TextInput id="e305_51" width="130" enabled="{e305_50.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="20" text="鼻" paddingRight="55"/>
								<s:DropDownList id="e305_52" width="130" change="selectRange(event,2,e305_53)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="鼻  异 常 说明"/>
								<s:TextInput id="e305_53" width="115" enabled="{e305_52.selectedIndex==2}"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem>
								<s:Label  text="皮                    肤"/>
								<s:DropDownList id="e305_54" width="130" change="selectRange(event,[2,3,4],e305_55)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="皮     肤    异   常"/>
								<s:TextInput id="e305_55" width="130" enabled="{e305_54.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="口               腔"/>
								<s:DropDownList id="e305_56" width="130" change="selectRange(event,2,e305_57)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="口   腔   异  常" />
								<s:TextInput id="e305_57" width="130" enabled="{e305_56.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="肛                门"/>
								<s:DropDownList id="e305_58" width="115" change="selectRange(event,2,e305_59)"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem>
								<s:Label  text="肛     门    异    常"/>
								<s:TextInput id="e305_59" width="130" enabled="{e305_58.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="心     肺    听   诊"/>
								<s:DropDownList id="e305_60" width="130" change="selectRange(event,2,e305_61)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="听  诊   说  明"/>
								<s:TextInput id="e305_61" width="130" enabled="{e305_60.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="外   生   殖  器"/>
								<s:DropDownList id="e305_62" width="130" change="selectRange(event,2,e305_63)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="外生殖器说明"/>
								<s:TextInput id="e305_63" width="115" enabled="{e305_62.selectedIndex==2}"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="腹    部    触    诊"/>
								<s:DropDownList id="e305_64" width="130" change="selectRange(event,2,e305_65)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="触     诊    说   明"/>
								<s:TextInput id="e305_65" width="130" enabled="{e305_64.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="脊               柱"/>
								<s:DropDownList id="e305_66" width="130" change="selectRange(event,2,e305_67)"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="脊   柱   说  明"/>
								<s:TextInput id="e305_67" width="130" enabled="{e305_66.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="脐                带"/>
								<s:DropDownList id="e305_68" width="115" change="selectRange(event,4,e305_69)"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem colSpan="5">
								<s:Label  text="脐     带    说   明"/>
								<s:TextInput id="e305_69" width="100%" enabled="{e305_68.selectedIndex==4}"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>		
			
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="转诊信息">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="转诊建议"/>
								<s:DropDownList id="e305_70" width="130" change="selectRange(event,2,[e305_71,e305_72,e305_79])"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="转诊原因"/>
								<s:TextInput id="e305_71" width="424"  enabled="{e305_70.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="转诊机构"/>
								<s:DropDownList id="e305_72" width="130"  enabled="{e305_70.selectedIndex==2}"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label  text="转诊科室"/>
								<s:TextInput id="e305_79" width="130"  enabled="{e305_70.selectedIndex==2}"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>		
			
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="指 导与管理">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							<mx:GridItem colSpan="3" id="e305_73">
								<s:Label text="指                   导"/>
								<s:CheckBox buttonMode="true" automationName="10"   label="科学喂养" />
								<s:CheckBox buttonMode="true" automationName="11"   label="生长发育" />
								<s:CheckBox buttonMode="true" automationName="12"   label="疾病预防" />
								<s:CheckBox buttonMode="true" automationName="13"   label="预防意外伤害" />
								<s:CheckBox buttonMode="true" automationName="14"   label="口腔保健" />
								<s:CheckBox buttonMode="true" automationName="9"   label="其他" id="e305_73_9" change="if(!e305_73_9.selected)setEleNull(e305_87)"/>
							</mx:GridItem>
							<mx:GridItem colSpan="2">
								<s:Label text="其他" paddingTop="5"/>
								<s:TextInput id="e305_87" width="360" enabled="{e305_73_9.selected}"/>
							</mx:GridItem>
						</mx:GridRow>
						
						<mx:GridRow>
							<mx:GridItem colSpan="5" id="e305_80">
								<s:Label  text="中 医 健康管 理" />
								<s:CheckBox buttonMode="true" automationName="1"  label="饮食调养指导"/>
								<s:CheckBox buttonMode="true" automationName="2"  label="起居调摄指导"/>
								<s:CheckBox buttonMode="true" automationName="3"  label="摩腹、捏脊"/>
								<s:CheckBox buttonMode="true" automationName="4"  label="揉肺经、揉足三里"/>
								<s:CheckBox buttonMode="true" automationName="5"  label="揉四神聪"/>
								<s:CheckBox buttonMode="true" automationName="6"  label="健康教育处方"/>
							</mx:GridItem>
						
						</mx:GridRow>
						
						
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>		
			
			<mx:TabNavigator width="1170" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="随访信息">
					<mx:Grid paddingBottom="10" paddingLeft="8">
						<mx:GridRow>
							
							<mx:GridItem>
								<s:Label text="随访日期"/>
								<mx:DateField id="e305_74" width="115"
											  dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD" yearNavigationEnabled="true"/>
								<s:Label styleName="must" text="*"/>
							</mx:GridItem>
						
							<mx:GridItem>
								<s:Label text="下次随访日期"/>
								<mx:DateField id="e305_76" width="130"
											  dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD" yearNavigationEnabled="true"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="随访医生"/>
								<s:TextInput id="e305_77" width="130"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label paddingLeft="15" text="下次随访地点"/>
								<s:TextInput id="e305_75" width="130"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="随访机构"/>
								<s:DropDownList id="e305_81" width="130" enabled="false"/>
								<s:Label styleName="must" text="*"/>
							</mx:GridItem>
						</mx:GridRow>
						
					</mx:Grid>  
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<s:HGroup width="1170" horizontalAlign="center" paddingBottom="10" verticalAlign="middle">
				<s:Button id="saveE301" label="保存" click="validate1()"/>
			</s:HGroup>
		</s:VGroup>
	</s:Scroller>
</s:Module>
