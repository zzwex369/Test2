<?xml version="1.0" encoding="utf-8"?>
<s:Module xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/mx" 
		  xmlns:component="com.xyw.sys.custom.component.*"
		  width="100%" height="100%"
		  creationComplete="moduleCreationComplete()">
	<fx:Declarations>
		<s:RemoteObject id="f602Service" destination="f602Service" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="saveF602" result="saveF602Handler(event)"/>
		</s:RemoteObject>
		<s:RemoteObject id="systemService" destination="systemService" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="getComboBoxData" result="getComboBoxDataHandler(event)"/>
		</s:RemoteObject>
	</fx:Declarations>
	
	<fx:Style>
		@namespace s "library://ns.adobe.com/flex/spark";
		@namespace mx "library://ns.adobe.com/flex/mx";
		mx|GridItem
		{
			horizontalAlign:left;
			verticalAlign:middle;
		}
		s|TextInput
		{
			fontFamily:微软雅黑;
		}
		s|Button
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomButtonSkin");
		}
		s|DropDownList
		{
			skinClass:ClassReference("com.xyw.sys.custom.skin.CustomDropDownListSkin");
			selectionColor:#DDDDDD;
			rollOverColor:#EEEEEE;	
		}
		.must {
			color:red;
			fontSize:20px;
			fontWeight:bold;
			paddingTop:5px;
		}
	</fx:Style>
	<fx:Script>
		<![CDATA[
			import com.xyw.module.msss.fnbj.model.F602;
			import com.xyw.module.msss.fnbj.model.F602Request;
			import com.xyw.module.msss.fnbj.model.VF601;
			import com.xyw.sys.model.ComboBoxDataRequest;
			import com.xyw.sys.model.SystemUser;
			
			import com.xyw.module.msss.fnbj.xq.fnbjxqbg.QueryWindow;
			import mx.formatters.DateFormatter;
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.events.FlexEvent;
			import mx.managers.PopUpManager;
			import mx.rpc.events.ResultEvent;
			import mx.utils.StringUtil;
			
			public var array:Array = new Array();
			public var f602Request:F602Request =null; 
			private var f602:F602 =new F602();
			public var systemUser:SystemUser =null;
			private var comboBoxDataRequest:ComboBoxDataRequest;
			private var f60240:String;
			
			public function moduleCreationComplete():void
			{
				this.systemUser =this.parentApplication.systemUser;
				if(this.systemUser.duka =="1"){
					this.duka1.enabled =true;
					/* this.duka2.enabled =true; */
				}
				
				var now:Date = new Date();
				this.F602_41.selectedDate =now;
				this.F602_37.selectedDate =now;
				this.F602_04.addEventListener(FlexEvent.ENTER,setF602_11);
				this.F602_04.addEventListener(FlexEvent.CHANGING,setF602_11);
				this.F602_03.addEventListener(FlexEvent.CHANGING,opensave);
				
				/* this.F602_31.addEventListener(FlexEvent.CHANGING,setF602_32);
				this.F602_31.addEventListener(FlexEvent.ENTER,setF602_32);
				this.F602_29_2.addEventListener(FlexEvent.CHANGING,setF602_30);
				this.F602_29_2.addEventListener(FlexEvent.ENTER,setF602_30);
				this.F602_27_2.addEventListener(FlexEvent.CHANGING,setF602_28);
				this.F602_27_2.addEventListener(FlexEvent.ENTER,setF602_28);  */
				this.initializeComboBox();
				
                this.fou();
			}
			private function validateFengxian():void{
				setF602_32();
				setF602_30();
				setF602_28();
			}
			private function setF602_32():void{
				if(Number(this.F602_31.text) >=35 ){
					this.F602_32.text ="有年龄风险";
				}else{
					this.F602_32.text ="无";
				}
			}
			private function setF602_30():void{
				if(this.F602_29_1.text != null && this.F602_29_2.text !=null){
					 if(Number(this.F602_29_1.text)/Number(this.F602_29_2.text) == (1/120) ){
						this.F602_30.text ="风险值";
					}else if(Number(this.F602_29_1.text)/Number(this.F602_29_2.text) < (1/250) ){
						this.F602_30.text ="低风险";
					}else if(Number(this.F602_29_1.text)/Number(this.F602_29_2.text) >= (1/250) ){
						this.F602_30.text ="高风险";
					}
				}
			}
			private function setF602_28():void{
				if(this.F602_27_1.text != null && this.F602_27_2.text !=null){
					if(Number(this.F602_27_1.text)/Number(this.F602_27_2.text) >= (1/270) ){
						this.F602_28.text ="高风险";
					}else if(Number(this.F602_27_1.text)/Number(this.F602_27_2.text) <= (1/1000) ){
						this.F602_28.text ="低风险";
					}else{
						this.F602_28.text ="临界风险";
					}
				}
			}
			private function fou():void{
				this.fmload.visible =true;
				
				this.F602_03.enabled =false;
				this.F602_04.enabled =false;
				this.F602_06.enabled =false;
				this.F602_07.enabled =false;
				this.F602_11.enabled =false;
				this.F602_12.enabled =false;
				this.F602_13.enabled =false;
				this.F602_38.enabled =false;
			}
			private function setF602_11():void{
				if(this.F602_38.selectedItem.data == 1){
					var cardId:String = StringUtil.trim(this.F602_04.text);
					if(cardId.length>=16){
						cardId=cardId.substring(6,14);
						this.F602_11.text = cardId.substring(0,4) + "-" + cardId.substring(4,6) + "-" + cardId.substring(6,8);
					}else
					{
						cardId=cardId.substring(6,12);
						this.F602_11.text = "19" + cardId.substring(0,2) + "-" + cardId.substring(2,4) + "-" + cardId.substring(4,6);
					}
				}
			}
			private function initializeComboBox():void
			{
				comboBoxDataRequest =new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt =true;
				comboBoxDataRequest.flag ="D101";
				comboBoxDataRequest.sql ="select t.d101_01, t.d101_02 from D101 t where t.d101_01 = '" + this.systemUser.institutionCode + "' or t.d101_11 ='" + this.systemUser.institutionCode +"'";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select * from S301_06";
				comboBoxDataRequest.flag = "S301_06";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select * from Z601_01";
				comboBoxDataRequest.flag = "Z601_01";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
				
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = true;
				comboBoxDataRequest.sql = "select * from S301_04";
				comboBoxDataRequest.flag = "S301_04";
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
			}
			
			private function getComboBoxDataHandler(event:ResultEvent):void
			{
				var comboBoxDataResponse:Object =event.result;
				var flag:String =comboBoxDataResponse.flag;
				var comboBoxDataList:ArrayCollection =comboBoxDataResponse.comboBoxDataList;
				
				if(flag =="D101"){
					var F602_34Index:int =this.getDroupDownListSelectedIndex(comboBoxDataList,this.systemUser.institutionCode);
					this.F602_34.dataProvider =comboBoxDataList;
					this.F602_34.selectedIndex =F602_34Index;
					this.F602_07.dataProvider =comboBoxDataList;
					this.F602_07.selectedIndex =F602_34Index;
				}else if(flag == "S301_06")
				{
					this.F602_38.dataProvider = comboBoxDataList;
					this.F602_38.selectedIndex = 1;
				}else if(flag == "Z601_01")
				{
					this.F602_12.dataProvider = comboBoxDataList;
					this.F602_12.selectedIndex = 1;
				}else if(flag == "S301_04")
				{
					this.F602_13.dataProvider = comboBoxDataList;
					this.F602_13.selectedIndex = 1;
				}
			}
			
			private function getDroupDownListSelectedIndex(arrayCollection:ArrayCollection,defaultValue:String):int{
				var len:int =arrayCollection.length;
				var i:uint =0;
				var index:int =0;
				while(i<len){
					var comboBoxDataP:Object =arrayCollection.getItemAt(i);
					if(comboBoxDataP.data ==defaultValue){
						index =arrayCollection.getItemIndex(comboBoxDataP);
						break;
					}
					i++;
				}
				return index;
			}
			//查询读卡
			private function readCard_B(event:MouseEvent):void{
				try
				{
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(sex=="女"){
							this.f602_03.text = array[0];
							this.f602_04.text = array[5];
							queryfndj();
						} 
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			//读卡(母亲)
			protected function readCard_mother(event:MouseEvent):void
			{
				try
				{
					var str:String = ExternalInterface.call("parent.readCard");
					if(str != null && str.length != 0){
						var array:Array = str.split(",");
						var sex:String = array[1];//性别
						if(sex=="女"){
							this.F602_03.text = array[0];//姓名
							this.F602_04.text = array[5];//身份证号
							this.F602_11.text = array[3];//出生日期
						}else{
							Alert.show("请读母亲信息！","系统提示");
						}
					}else{
						Alert.show("读卡失败！");
					}
				} 
				catch(error:Error) 
				{
					Alert.show("读卡失败！");
				}
			}
			
			private function queryfndj():void{
				if(this.f602_03.text == ""){
					Alert.show("请输入母亲姓名！","系统提示");
					return;
				}
				if(this.f602_04.text == ""){
					Alert.show("请输入母亲身份证号！","系统提示");
					return;
				}
				
				var querywindow:QueryWindow =new QueryWindow();
				querywindow.owner =this;
				querywindow.f60103 =StringUtil.trim(this.f602_03.text);
				querywindow.f60104 =StringUtil.trim(this.f602_04.text);
				querywindow.f60129 =this.systemUser.institutionCode;
				PopUpManager.addPopUp(querywindow,this);
				var x:Number =(this.parentApplication.mdiCanvas.width-querywindow.width)/ 2 + 50;
				var y:Number =(this.parentApplication.mdiCanvas.height -querywindow.height)/ 2;
				querywindow.move(x,y);
			}
			public function loadF601(vf601:VF601):void{
				this.f602.f60208 =vf601.f60130;
				this.f602.f60202 =vf601.f60101;
				this.F602_03.text =vf601.f60103;
				this.F602_04.text =vf601.f60104;
				this.F602_05.text =vf601.f60109;
				this.F602_06.text =vf601.f60126Str;
			/* 	this.F602_11.text =vf601.f60105Str;
				this.F602_14.text =vf601.f60116Str; */
				this.F602_16.value =vf601.f60110;
				this.F602_17.text =vf601.f60118;
				this.F602_18.text =vf601.f60119;
				this.F602_40.text =vf601.f60138;
				
				this.F602_39.text =vf601.f60136.toString();
				if(vf601.f60111 =="2"){
					this.F602_09_0.selected =true;
				}else if(vf601.f60111 =="1"){
					this.F602_09_1.selected =true;
				}
				if(vf601.f60112 =="2"){
					this.F602_10_0.selected =true;
				}else if(vf601.f60112 =="1"){
					this.F602_10_1.selected =true;
				}
				if(vf601.f60115 =="1"){
					this.F602_19_1.selected =true;
				}else if(vf601.f60115 =="2"){
					this.F602_19_2.selected =true;
				}else if(vf601.f60115 =="3"){
					this.F602_19_3.selected =true;
				}
				
				this.F602_07.selectedIndex =this.getDroupDownListSelectedIndex(ArrayCollection(this.F602_07.dataProvider),vf601.f60129);
				this.F602_12.selectedIndex =this.getDroupDownListSelectedIndex(ArrayCollection(this.F602_12.dataProvider),vf601.f60107);
				this.F602_13.selectedIndex =this.getDroupDownListSelectedIndex(ArrayCollection(this.F602_13.dataProvider),vf601.f60108);
				this.F602_38.selectedIndex =this.getDroupDownListSelectedIndex(ArrayCollection(this.F602_38.dataProvider),vf601.f60135);
			}
			private function validate1():void{
				if(StringUtil.trim(this.F602_03.text) == ""){
					Alert.show("请输入产妇姓名!","系统提示");
					return;
				}
				if(this.F602_38.selectedItem.data == 0)
				{
					Alert.show("请选择证件类型!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_04.text) == "")
				{
					Alert.show("请输入证件号码!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_11.text) == "")
				{
					Alert.show("请选择出生日期!","系统提示");
					return;
				}
				if(this.F602_12.selectedItem.data == 0)
				{
					Alert.show("请选择种族!","系统提示");
					return;
				}
				if(this.F602_13.selectedItem.data == 0)
				{
					Alert.show("请选择民族!","系统提示");
					return;
				}
				if(this.F602_07.selectedItem.data == 0)
				{
					Alert.show("请选择采血单位!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_06.text) == "")
				{
					Alert.show("请选择标本采血日期!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_05.text) == "")
				{
					Alert.show("请输入联系电话!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_15.text) == "")
				{
					Alert.show("请输入预产年龄!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_14.text) == "")
				{
					Alert.show("请选择末次月经!","系统提示");
					return;
				}
				if(this.F602_16.value ==0)
				{
					Alert.show("请输入采血日体重!","系统提示");
					return;
				}
				if(!this.F602_10_0.selected ){
					if(!this.F602_10_1.selected ){
						Alert.show("请选择I型糖尿病!","系统提示");
						return;
					}
				}
				if(!this.F602_19_1.selected){
					if(!this.F602_19_2.selected ){
						if(!this.F602_19_3.selected ){
							Alert.show("请选择本次胎儿数!","系统提示");
							return;
						}
					}
				} 
				if(this.F602_17.text != "")
				{
					if(StringUtil.trim(this.F602_17.text).length > 2){
						Alert.show("采血日孕周周不正确!","系统提示");
						return ;
					}
				}
				if(this.F602_40.text != "0")
				{
					if(Number(StringUtil.trim(this.F602_40.text)) > 6){
						Alert.show("采血日孕周天不能大于7!","系统提示");
						return ;
					}
				} else if(this.F602_40.text == ""){
					Alert.show("请输入采血日孕周天!","系统提示");
					return ;
				}
				if(StringUtil.trim(this.F602_18.text) == "")
				{
					Alert.show("请输入孕周计算方法!","系统提示");
					return;
				}
				if(this.F602_34.selectedItem.data == 0)
				{
					Alert.show("请选择报告单位!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_36.text) == "")
				{
					Alert.show("请输入录入人员!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_37.text) == "")
				{
					Alert.show("请选择录入时间!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F602_41.text) == "")
				{
					Alert.show("请选择报告时间!","系统提示");
					return;
				}
			/* 	this.saveRecord(); */
			}
			/* private function saveRecord():void{
				this.f602.f60203 =this.F602_03.text;
				this.f602.f60204 =this.F602_04.text;
				this.f602.f60205 =this.F602_05.text;
				this.f602.f60206 =DateField.stringToDate(this.F602_06.text,'YYYY-MM-DD');
				this.f602.f60207 =this.F602_07.selectedItem.data;
				this.f602.f60211 =DateField.stringToDate(this.F602_11.text,'YYYY-MM-DD');
				this.f602.f60212 =this.F602_12.selectedItem.data;
				this.f602.f60213 =this.F602_13.selectedItem.data;
				this.f602.f60214 =DateField.stringToDate(this.F602_14.text,'YYYY-MM-DD');
				this.f602.f60215 =Number(this.F602_15.text);
				this.f602.f60216 =Number(this.F602_16.value);
				this.f602.f60217 =this.F602_17.text;
				this.f602.f60218 =this.F602_18.text;
				this.f602.f60220 =this.F602_20.text;
				this.f602.f60221 =this.F602_21.text;
				this.f602.f60222 =this.F602_22.text;
				this.f602.f60223 =this.F602_23.text;
				this.f602.f60224 =this.F602_24.text;
				this.f602.f60225 =this.F602_25.text;
				this.f602.f60226 =this.F602_26.text;
				this.f602.f60227 =this.F602_27_1.text+"/"+this.F602_27_2.text;
				this.f602.f60228 =this.F602_28.text;
				this.f602.f60229 =this.F602_29_1.text+"/"+this.F602_29_2.text;
				this.f602.f60230 =this.F602_30.text;
				this.f602.f60231 =this.F602_31.text;
				this.f602.f60232 =this.F602_32.text;
				this.f602.f60233 =this.F602_33.text;
				this.f602.f60234 =this.F602_34.selectedItem.data;
				this.f602.f60235 =this.systemUser.yingye;
				this.f602.f60236 =this.F602_36.text;
				this.f602.f60237 =DateField.stringToDate(this.F602_37.text,'YYYY-MM-DD');
				this.f602.f60238 =this.F602_38.selectedItem.data;
				this.f602.f60239 =Number(this.F602_39.text);
				this.f602.f60240 =this.F602_40.text;
				this.f602.f60241 =DateField.stringToDate(this.F602_41.text,'YYYY-MM-DD');
				this.f602.f60242 =this.F602_42.text;
				
				enclick09();
				enclick10();
				enclick19();
				this.f602Service.saveF602(f602);
			}
			 */protected function saveF602Handler(event:ResultEvent):void{
				var f602Response:Object =event.result;
				if(!f602Response.state){
					Alert.show(f602Response.errorMessage,"系统提示");
					return;
				}
				this.saveButton.enabled = false;
				Alert.show("保存成功！ ","系统提示");
			}
			private function enclick09():void{
				if(this.F602_09_0.selected){
					array[09] ="2";
				}else if(this.F602_09_1.selected){
					array[09] ="1";
				}
				this.f602.f60209 =array[09];
			}
			private function enclick10():void{
				if(this.F602_10_0.selected){
					array[10] ="2";
				}else if(this.F602_10_1.selected){
					array[10] ="1";
				}
				this.f602.f60210 =array[10];
			}
			private function enclick19():void{
				if(this.F602_19_1.selected){
					array[19] ="1";
				}else if(this.F602_19_2.selected){
					array[19] ="2";
				}else if(this.F602_19_3.selected){
					array[19] ="3";
				}
				this.f602.f60219 =array[19];
			}
			private function opensave(event:Event):void{
				this.saveButton.enabled = true;
			}
		]]>
	</fx:Script>
	<s:Scroller x="-6" y="1" width="100%" height="100%" horizontalScrollPolicy="auto" verticalScrollPolicy="auto">
		<s:VGroup paddingBottom="20" paddingLeft="10" paddingRight="10" paddingTop="10">
			<mx:TabNavigator  width="1030" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="产妇查询">			
					<s:VGroup paddingBottom="2" paddingLeft="10" paddingRight="10">	
						<s:HGroup width="100%" height="100%" verticalAlign="middle" paddingBottom="5">
							<s:Label text="请查询血清学产前筛查申请" styleName="mustQuery"/>
							<s:HGroup visible="true" id="fmload" verticalAlign="middle">
								<s:Label text="请输入产妇姓名" paddingLeft="8"/><s:TextInput id="f602_03"/>
								<s:Label text="证件号码" /><s:TextInput id="f602_04" width="140"/>
								<s:Button click="queryfndj()" label="查询"/>	
								<s:Button label="读卡" id="duka1" enabled="false" width="60" click="readCard_B(event)"/>
							</s:HGroup>
						</s:HGroup>
					</s:VGroup>
				</s:NavigatorContent>
			</mx:TabNavigator>
			<mx:TabNavigator width="1030" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="基本信息" >	
					<mx:Grid paddingLeft="8" paddingBottom="10">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="产妇姓名"/>	
								<s:TextInput id="F602_03" width="140" />	
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="证件类型" paddingLeft="15"/>
								<s:DropDownList id="F602_38" width="130" />
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="证件号码" paddingLeft="15"/>
								<s:TextInput id="F602_04" width="140" />
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="出生日期" paddingLeft="15"/>
								<mx:DateField yearNavigationEnabled="true" id="F602_11" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD" />
								<s:Label text="*" styleName="must"/>
								<s:Button label="读卡" id="duka2" enabled="false" width="50" click="readCard_mother(event)"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="种        族"/>
								<s:DropDownList id="F602_12" width="140"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="民        族" paddingLeft="15"/>
								<s:DropDownList id="F602_13" width="130"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="采血单位" paddingLeft="15"/>
								<s:DropDownList id="F602_07" width="140" />
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="采血日期" paddingLeft="15"/>
								<mx:DateField yearNavigationEnabled="true" id="F602_06" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="联系电话"/>
								<s:TextInput id="F602_05" width="140" maxChars="12" restrict="0-9"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="预产年龄" paddingLeft="15"/>
								<s:TextInput id="F602_15" width="130" restrict="0-9" maxChars="4"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="末次月经" paddingLeft="15"/>
								<mx:DateField yearNavigationEnabled="true" id="F602_14" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<mx:TabNavigator width="1030" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="检查信息">	
					<mx:Grid paddingLeft="8" paddingBottom="10">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="采血日体重"/>
								<s:NumericStepper minimum="0" stepSize="0.1" maximum="100000" id="F602_16" width="115"/>
								<s:Label text="kg" paddingLeft="0"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="吸  烟  史" paddingLeft="15"/>
								<mx:VBox>
									<s:HGroup paddingLeft="10" paddingRight="10" verticalAlign="middle">
										<s:RadioButton id="F602_09_0" groupName="operation09" selected="true"  click="enclick09()"/><s:Label text="否"/>
										<s:RadioButton id="F602_09_1" groupName="operation09"  click="enclick09()"/><s:Label text="是"/>
									</s:HGroup>
								</mx:VBox>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="I型糖尿病" paddingLeft="15"/>
								<mx:VBox>
									<s:HGroup paddingLeft="10" paddingRight="10" verticalAlign="middle">
										<s:RadioButton id="F602_10_0" groupName="operation10" selected="true" click="enclick10()"/><s:Label text="否"/>
										<s:RadioButton id="F602_10_1" groupName="operation10" click="enclick10()"/><s:Label text="是"/>
									</s:HGroup>
								</mx:VBox>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="本次胎儿数" />
								<mx:VBox>
									<s:HGroup paddingLeft="10" paddingRight="10" verticalAlign="middle">
										<s:RadioButton id="F602_19_1" groupName="operation19" selected="true" click="enclick19()"/><s:Label text="单胎"/>
										<s:RadioButton id="F602_19_2" groupName="operation19"  click="enclick19()"/><s:Label text="多胎"/>
										<s:RadioButton id="F602_19_3" groupName="operation19"  click="enclick19()"/><s:Label text="多胞胎"/>
									</s:HGroup>
								</mx:VBox>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="本次胎数" paddingLeft="15"/>
								<s:TextInput id="F602_39" width="130" restrict="0-9" maxChars="4"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="采血日孕周" paddingLeft="15"/>
								<s:BorderContainer width="140" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="F602_17" width="41" borderVisible="false" maxChars="2" textAlign="right" text="40" restrict="0-9"/>
										<s:Label paddingRight="0" text="周"/>
										<s:TextInput id="F602_40" width="42" borderVisible="false" maxChars="1" textAlign="right" text="0" restrict="0-6"/>
										<s:Label paddingRight="0" text="天"/>
									</s:HGroup>
								</s:BorderContainer>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="孕周计算方法" paddingLeft="15"/>
								<s:TextInput id="F602_18" width="130"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<mx:TabNavigator width="1030" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="检测项目">	
					<mx:Grid paddingLeft="8" paddingBottom="10">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="甲胎蛋白AFP"/>
								<s:TextInput id="F602_20" width="110" />
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="AFP的MOM值" paddingLeft="15"/>
								<s:TextInput id="F602_21" width="110" />
								<s:Label text="MOM" paddingLeft="0"/>
							</mx:GridItem>
							<mx:GridItem colSpan="2" paddingLeft="15">
								<s:Label text="人绒毛膜促性腺激素β亚基（β-HCG）"/>
								<s:TextInput id="F602_23" width="110" />
								<s:Label text="pg/ml" paddingLeft="0"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="游离雌三醇"/>
								<s:TextInput id="F602_22" width="110" />
								<s:Label text="nmol/L" paddingLeft="0"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="uE3的MOM值" paddingLeft="15"/>
								<s:TextInput id="F602_42" width="110" />
								<s:Label text="MOM" paddingLeft="0"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="β-HCG的MOM值" paddingLeft="15"/>
								<s:TextInput id="F602_24" width="110" />
								<s:Label text="MOM" paddingLeft="0"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="抑制素A(Inh-A)"/>
								<s:TextInput id="F602_25" width="110" />
								<s:Label text="pg/ml" paddingLeft="0"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="Inh-A的MOM值" paddingLeft="15"/>
								<s:TextInput id="F602_26" width="100" />
								<s:Label text="MOM" paddingLeft="0"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="21-三体综合征风险值"/>
								<s:BorderContainer width="140" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="F602_27_1" width="40" borderVisible="false" maxChars="10" textAlign="right" text="0" restrict="0-9"/>
										<s:Label text="/    "/>
										<s:TextInput id="F602_27_2" width="40" borderVisible="false" maxChars="10" textAlign="right" text="0" restrict="0-9"/>
									</s:HGroup>
								</s:BorderContainer>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="开放性神经管缺陷风险值" paddingLeft="15"/>
								<s:BorderContainer width="140" height="23">
									<s:HGroup verticalAlign="middle">
										<s:TextInput id="F602_29_1" width="40" borderVisible="false" maxChars="10" textAlign="right" text="0" restrict="0-9"/>
										<s:Label text="/    "/>
										<s:TextInput id="F602_29_2" width="40" borderVisible="false" maxChars="10" textAlign="right" text="0" restrict="0-9"/>
									</s:HGroup>
								</s:BorderContainer>
								<s:Label text="MOM" paddingLeft="0"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="预产期年龄风险值" paddingLeft="15"/>
								<s:TextInput id="F602_31" width="100" restrict="0-9" />
								<s:Label text="岁" paddingLeft="0"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Button label="风险提示" id="fengxian" click="validateFengxian()"/>
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="21-三体综合征风险提示"/>
								<s:TextInput id="F602_28" width="130"  />
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="开放性神经管缺陷风险提示" paddingLeft="15"/>
								<s:TextInput id="F602_30" width="130"  />
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="预产期年龄风险提示" paddingLeft="15"/>
								<s:TextInput id="F602_32" width="130"  />
							</mx:GridItem>
						</mx:GridRow>
						<mx:GridRow>
							<mx:GridItem colSpan="5">
								<s:Label text="建议"/>
								<s:TextInput id="F602_33" width="550"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			</mx:TabNavigator>
			
			<mx:TabNavigator width="1030" chromeColor="#ffffff" creationPolicy="all">
				<s:NavigatorContent width="100%" label="报告信息">	
					<mx:Grid paddingLeft="8" paddingBottom="10">
						<mx:GridRow>
							<mx:GridItem>
								<s:Label text="报告单位"/>
								<s:DropDownList id="F602_34" width="140" enabled="false"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="录入人员" paddingLeft="15"/>
								<s:TextInput id="F602_36" width="140"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="报告时间" paddingLeft="15"/>
								<mx:DateField yearNavigationEnabled="true" id="F602_41" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
							<mx:GridItem>
								<s:Label text="录入时间" paddingLeft="15"/>
								<mx:DateField yearNavigationEnabled="true" id="F602_37" width="130" dayNames='["周日","周一","周二","周三","周四","周五","周六"]'
											  monthNames='["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]'
											  formatString="YYYY-MM-DD"/>
								<s:Label text="*" styleName="must"/>
							</mx:GridItem>
						</mx:GridRow>
					</mx:Grid>
				</s:NavigatorContent>
			</mx:TabNavigator>	
			
			<s:HGroup paddingBottom="10" verticalAlign="middle" width="70%" horizontalAlign="right">
				<s:Button label="保存" id="saveButton" click="validate1()"/>
			</s:HGroup>
		</s:VGroup>
	</s:Scroller>
	
</s:Module>
