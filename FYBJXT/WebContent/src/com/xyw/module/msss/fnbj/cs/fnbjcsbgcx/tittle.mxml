<?xml version="1.0" encoding="utf-8"?>
<s:TitleWindow xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" 
			   xmlns:component = "com.xyw.sys.custom.component.*"
			   chromeColor="#6EE0ED" title="信息修改"  
			   close = "removeWindow()" cornerRadius="5"  height="570" 
			   creationComplete="moduleCreationComplete()">
	<fx:Declarations>
		<s:RemoteObject id="f502Service" destination="f502Service" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="renewF502" result="renewF502Handler(event)" />
		</s:RemoteObject>
		<s:RemoteObject id="systemService" destination="systemService" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="getComboBoxData" result="getComboBoxDataHandler(event)"/>
		</s:RemoteObject>
		
		<s:RemoteObject id="pictureService" destination="pictureService" endpoint="{this.parentApplication.contextRoot}/messagebroker/amf" showBusyCursor="true">
			<s:method name="save" result="saveHandler(event)"/>
			<s:method name="queryVPicture" result="queryVPictureHandler(event)"/>
			<s:method name="delbyId" result="delbyIdHandler(event)" />

		</s:RemoteObject>
	</fx:Declarations>
	<fx:Style>
		@namespace s "library://ns.adobe.com/flex/spark";
		@namespace mx "library://ns.adobe.com/flex/mx";
		
		.must {
			color:red;
			fontSize:20px;
			fontWeight:bold;
			paddingTop:5px;
		}
		
	</fx:Style>
	<fx:Script>
		<![CDATA[
			import com.xyw.module.msss.fnbj.model.F502;
			import com.xyw.module.msss.fnbj.model.F502Request;
			import com.xyw.module.msss.fnbj.model.VF502;
			import com.xyw.sys.custom.component.CompMethod;
			import com.xyw.sys.custom.component.ImageWindow;
			import com.xyw.sys.custom.component.LoadPicWindow;
			import com.xyw.sys.custom.component.LoadPicWindow_csbgxg;
			import com.xyw.sys.custom.component.UploadPic;
			import com.xyw.sys.custom.itemrenderer.CustomCsBgListColumnItemRenderer;
			import com.xyw.sys.model.ComboBoxDataRequest;
			import com.xyw.sys.model.SystemUser;
			import com.xyw.uploadPictures.model.PictureMessage;
			import com.xyw.uploadPictures.model.PictureRequest;
			import com.xyw.uploadPictures.model.Pictures;
			import com.xyw.uploadPictures.model.VPicture;
			
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.controls.DateField;
			import mx.events.CloseEvent;
			import mx.events.FlexEvent;
			import mx.formatters.DateFormatter;
			import mx.managers.PopUpManager;
			import mx.rpc.events.ResultEvent;
			import mx.utils.StringUtil;
			
			private var comboBoxDataRequest:ComboBoxDataRequest;
			public var systemUser:SystemUser =null;
			private var f502:F502 =new F502();
			public var vF502:VF502;
			private var f502Response:Object;
			[Bindable]
			public  var picData:ArrayCollection=new ArrayCollection();
			private var picState:String="ccbg";
			private var count:int=6;
			private var selectFile:Object;//选中的图片
			private function moduleCreationComplete():void
			{
				this.systemUser =this.parentApplication.systemUser;
				this.initializeComboBox();
			}
			
			private function _initializeComboBox(sql:String,flag:String,showPrompt:Boolean=false):void
			{
				comboBoxDataRequest = new ComboBoxDataRequest();
				comboBoxDataRequest.showPrompt = showPrompt;
				comboBoxDataRequest.sql = sql;
				comboBoxDataRequest.flag = flag;
				this.systemService.getComboBoxData(this.comboBoxDataRequest);
			}	
			
			
			private function initializeComboBox():void
			{
				_initializeComboBox("select t.d101_01, t.d101_02 from D101 t where t.d101_01 = '" + this.systemUser.institutionCode + "' or t.d101_11 ='" + this.systemUser.institutionCode +"'","D101",true);
				
				_initializeComboBox("select * from S301_01","S301_01",true);
				
				_initializeComboBox("select * from S301_06","S301_06",true);
				
				_initializeComboBox("select * from Z502_01","Z502_01");
				
				//_initializeComboBox("select * from Z502_02","Z502_02",true);
				
				_initializeComboBox("select * from Z502_03","Z502_03");
				
				_initializeComboBox("select * from Z502_05","Z502_05");
						
			}
			
			
			private function getComboBoxDataHandler(event:ResultEvent):void
			{
				var comboBoxDataResponse:Object =event.result;
				var flag:String =comboBoxDataResponse.flag;
				var comboBoxDataList:ArrayCollection =comboBoxDataResponse.comboBoxDataList;
				--count;	
				if(flag =="D101"){
					var f502_25Index:int =CompMethod.getDropDownListSelectedIndex(comboBoxDataList,this.systemUser.institutionCode);
					this.F502_25.dataProvider =comboBoxDataList;
					this.F502_25.selectedIndex =f502_25Index;
				}else if(flag == "S301_06")
				{
					this.F502_29.dataProvider = comboBoxDataList;
					this.F502_29.selectedIndex = 1;
				}else if(flag == "Z502_01")
				{
					this.F502_15.dataProvider = comboBoxDataList;
					this.F502_15.selectedIndex = 1;
				}else if(flag == "Z502_02")
				{
					//this.F502_16.dataProvider = comboBoxDataList;
					//this.F502_16.selectedIndex = 0;
				}else if(flag == "Z502_03")
				{
					this.F502_17.dataProvider = comboBoxDataList;
					this.F502_17.selectedIndex = 1;
				}else if(flag == "Z502_05")
				{
					this.F502_20.dataProvider = comboBoxDataList;
					this.F502_20.selectedIndex = 1;
				}/* else if(flag == "S301_10_01"){
					this.F502_22.dataProvider = comboBoxDataList;
					this.F502_22.selectedIndex = 0;
				}else if(flag == "S301_10_02"){
					this.F502_28.dataProvider = comboBoxDataList;
					this.F502_28.selectedIndex = 0;
				} */
				if(!count)
					this.putRecord();
			}
			private function putRecord():void
			{
				queryPic(vF502.f50201);
				this.f502.f50201 =vF502.f50201;
				this.f502.f50202 =vF502.f50202;
				this.f502.f50240 =vF502.f50240;
				this.f502.f50241 =vF502.f50241;
				this.F502_03.text =vF502.f50203;
				this.F502_04.text =vF502.f50204;
				//this.F502_05.selectedIndex = Number(vF502.f50205);
				this.F502_06.text =vF502.f50206.toString();
				this.F502_07.text =vF502.f50207;
				this.F502_08.text =vF502.f50208;
				this.F502_09.text =vF502.f50209;
				this.F502_10.text =vF502.f50210.toString();
				this.F502_11.text =vF502.f50211.toString();
				this.F502_12.text =vF502.f50212.toString();
				this.F502_13.text =vF502.f50213.toString();
				this.F502_14.text =vF502.f50214.toString();
				this.F502_15.selectedIndex = CompMethod.getDropDownListSelectedIndex(ArrayCollection(F502_15.dataProvider),vF502.f50215);
				if(vF502.f50216==null){
					vF502.f50216="0,0,0,0,0,"
				}
				loadF502_16(vF502.f50216);
				//this.F502_16.selectedIndex =this.getDroupDownListSelectedIndex(ArrayCollection(this.F502_16.dataProvider),vF502.f50216);
				this.F502_17.selectedIndex = CompMethod.getDropDownListSelectedIndex(ArrayCollection(F502_17.dataProvider),vF502.f50217);
				this.F502_18.text =vF502.f50218.toString();
				this.F502_19.text =vF502.f50219.toString();
				this.F502_20.selectedIndex = CompMethod.getDropDownListSelectedIndex(ArrayCollection(F502_20.dataProvider),vF502.f50220);
				//this.F502_21.text =vF502.f50221;
				this.F502_22.text =vF502.f50222;
				this.F502_23.text =vF502.f50223;
				this.F502_24.text =vF502.f50224Str;
				//this.F502_25.selectedIndex = Number(vF502.f50225); 
				this.F502_27.text =vF502.f50227Str;
				this.F502_28.text =vF502.f50228;
				this.F502_29.selectedIndex = CompMethod.getDropDownListSelectedIndex(ArrayCollection(F502_29.dataProvider),vF502.f50229);
			    this.F502_30.text =vF502.f50230;
				this.F502_33.text =vF502.f50233;
				this.F502_34.text =vF502.f50234;
				this.F502_39.text =vF502.f50239;
				var f50235_:String = vF502.f50235;
				CompMethod.setRadioButtonSelect([F502_38],vF502.f50238);
				f50235_=="1"?this.F502_35_01.selected = true:this.F502_35_01.selected = false;
				f50235_=="2"?this.F502_35_02.selected = true:this.F502_35_02.selected = false;
				if(f50235_=="2"){
					this.checkHG.enabled = false;
					this.F502_16_01.selected = false;
					this.F502_16_02.selected = false;
					this.F502_16_03.selected = false;
					this.F502_16_04.selected = false;
					this.F502_16_05.selected = false;
				}
			}
			private function loadF502_16(f50216_:String):void{
			  var array:Array = f50216_.split(",");
			  var num:int;
			  for(var i:int=0;i<array.length;i++){
				  num=int(array[i]);
				  if(!num){//将0去除
					  continue;
				  }
				  if(array[i]=="0"){
					 return;
				  }else {
				  	if(array[i]!="0"){
						var obj:Object = this.checkHG.getElementAt(int(array[i])-1);
						obj.selected = true;
					}
				  }
			  } 
			}
			
			private function validate1():void{
				if(StringUtil.trim(this.F502_03.text) == ""){
					Alert.show("请输入产妇姓名!","系统提示");
					return;
				}
				
				if(this.F502_29.selectedItem.data == 0)
				{
					Alert.show("请选择证件类型!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_04.text) == "")
				{
					Alert.show("请输入证件号码!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_06.text) == "")
				{
					Alert.show("请输入年龄!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_07.text) == "")
				{
					Alert.show("请输入联系电话!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_09.text) == "")
				{
					Alert.show("请输入超声号!","系统提示");
					return;
				}
				
				if(this.F502_12.text != "")
				{
					if(StringUtil.trim(this.F502_12.text).length > 2){
						Alert.show("孕周不正确!","系统提示");
						return ;
					}
				}
				if(this.F502_17.selectedItem.data == 0)
				{
					Alert.show("请选择胎盘位置!","系统提示");
					return;
				}
				if(this.F502_15.selectedItem.data == 0)
				{
					Alert.show("请选择颅骨光环!","系统提示");
					return;
				}
				
				if(this.F502_30.text != "0")
				{
					if(Number(StringUtil.trim(this.F502_30.text)) > 6){
						Alert.show("孕周天数不能大于7!","系统提示");
						return ;
					}
				} else if(this.F502_30.text == ""){
					Alert.show("请输入孕周天!","系统提示");
					return ;
				}
				if(this.F502_25.selectedItem.data == 0)
				{
					Alert.show("请选择报告单位!","系统提示");
					return;
				}
				
				if(StringUtil.trim(this.F502_22.text) == "")
				{
					Alert.show("请输入报告医生!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_24.text) == "")
				{
					Alert.show("请选择报告时间!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_28.text) == "")
				{
					Alert.show("请输入录入人员!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_27.text) == "")
				{
					Alert.show("请选择录入时间!","系统提示");
					return;
				}
				if(StringUtil.trim(this.F502_23.text) == "")
				{
					Alert.show("请输入审核医生!","系统提示");
					return;
				}
				if(!StringUtil.trim(F502_33.text))
				{
					Alert.show("请输入超声所见!","系统提示");
					return ;
				}
				if(!StringUtil.trim(F502_34.text))
				{
					Alert.show("请输入超声提示!","系统提示");
					return ;
				}
				this.saveRecord();
			}
			private function saveRecord():void{
				var f502Request:F502Request=new F502Request();
				if(picData)
				{
					var arr:Array=new Array(getPicData());
					var f502PicArr:ArrayCollection=new ArrayCollection();
					f502PicArr.addItem(arr);
					f502Request.f502PicArr=f502PicArr;
				}
				this.f502.f50201 =vF502.f50201;
				this.f502.f50202 =vF502.f50202;
				this.f502.f50203 =this.F502_03.text;
				this.f502.f50204 =this.F502_04.text;
				this.f502.f50205 ="2";
				//this.f502.f50205 =this.F502_05.selectedItem.data;
				this.f502.f50206 =Number(this.F502_06.text);	
				this.f502.f50207 =this.F502_07.text;
				this.f502.f50208 =this.F502_08.text;
				this.f502.f50209 =this.F502_09.text;
				this.f502.f50210 =Number(this.F502_10.text);
				this.f502.f50211 =Number(this.F502_11.text);
				this.f502.f50212 =Number(this.F502_12.text);
				this.f502.f50213 =Number(this.F502_13.text);
				this.f502.f50214 =Number(this.F502_14.text);
				this.f502.f50215 =this.F502_15.selectedItem.data;
				setF502_16();
				this.f502.f50217 =this.F502_17.selectedItem.data;
				this.f502.f50218 =Number(this.F502_18.text);
				this.f502.f50219 =Number(this.F502_19.text);
				this.f502.f50220 =this.F502_20.selectedItem.data;
				//this.f502.f50221 =this.F502_21.text;
				this.f502.f50222 =this.F502_22.text;
				this.f502.f50223 =this.F502_23.text;
				this.f502.f50224 =DateField.stringToDate(this.F502_24.text,'YYYY-MM-DD');
				this.f502.f50225 =this.F502_25.selectedItem.data;
				this.f502.f50226 =this.systemUser.yingye;
				this.f502.f50227 =DateField.stringToDate(this.F502_27.text,'YYYY-MM-DD');
				this.f502.f50228 =this.F502_28.text;
				this.f502.f50229 =this.F502_29.selectedItem.data;
				this.f502.f50230 =this.F502_30.text;
				this.f502.f50233 =StringUtil.trim(this.F502_33.text);
				this.f502.f50234 =StringUtil.trim(this.F502_34.text);
				setF502_35();
				this.f502.f50236 = DateField.dateToString(new Date(),"YYYY-MM-DD");//最后修改日期
				this.f502.f50237 = "1";//检查序号现默认为1
				this.f502.f50238 = CompMethod.getRadioButtonValue([F502_38]);//筛查结果
				f502.f50239 =StringUtil.trim(F502_39.text);//
				this.f502.f50249 = "3";//接口上传标志（修改后为未传）
				f502Request.f502=this.f502;
				saveButton.enabled=false;
				this.f502Service.renewF502(f502Request);
			}
			
			private function getPicData():ArrayCollection
			{
				var picArrayCollection:ArrayCollection=new ArrayCollection();
				for(var i:int=0;i<picData.length;i++)
				{ 
					var obj:Object=new Object();
					obj=picData[i];
					var image:Pictures = new Pictures();
					image.pic04=obj.name;
					image.pic05=new Date();
					image.pic06='1';
					image.pic07=systemUser.institutionCode//机构编码
					image.pic08=systemUser.areaCode;//所属地区编码
					image.pic10=obj.pic10;
					var arr:Array=new Array(image,obj.data);
					picArrayCollection.addItemAt(arr,i);
				}
				return picArrayCollection;
			}
			
			
			private function renewF502Handler(event:ResultEvent):void
			{
				f502Response =event.result;
				if(!f502Response.state){
					saveButton.enabled=true;
					Alert.show(f502Response.errorMessage,"系统提示");
					return;
				}
				Alert.show(f502Response.promptMessage,"系统提示",1,this,closeHandler);
				
			}
			
			
			private function removeWindow():void
			{
				PopUpManager.removePopUp(this);
			}
			
			private function setF502_16():void{
				this.f502.f50216="";
				var checkNum:int = this.checkHG.numElements;
				for(var i:int=0;i<checkNum;i++){
					var checkObj:Object = this.checkHG.getElementAt(i);
					if(checkObj.selected){
						this.f502.f50216+=i+1+",";
					}else{
						this.f502.f50216+="0,";
					}
				}
			}
			private function setF502_35():void{
				var array:Array = new Array();
				if(this.F502_35_01.selected){
					this.checkHG.enabled = true;
					array[501]="1";
					this.f502.f50235 = array[501]
				}else if(this.F502_35_02.selected){
					this.checkHG.enabled = false;
					this.F502_16_01.selected = false;
					this.F502_16_02.selected = false;
					this.F502_16_03.selected = false;
					this.F502_16_04.selected = false;
					this.F502_16_05.selected = false;
					array[502]="2";
					this.f502.f50235 = array[502];
				}
			}
			
			private function uploadPic(pic10:String):void{
				var detailTitleWindow:LoadPicWindow= new LoadPicWindow();
				detailTitleWindow.f50203=F502_03.text;
				detailTitleWindow.pic10=pic10;//"01"超声NT缩略图   "02";//超声CLR缩略图
				CompMethod.popUpTitleWindow(detailTitleWindow,this,true);
			}
			
			
			/*****************图片放入集合*******************/
			public function putPictures(arr:ArrayCollection):void
			{
				try
				{
					picData.addAll(arr);
					
				} 
				catch(error:Error) 
				{
					Alert.show("上传图片异常","系统提示");
					trace("index.putPictures(arr)"+error);
					
				}
			}
			
			private function saveHandler(event:ResultEvent):void
			{
				var message:PictureMessage =event.result as PictureMessage;
				if(!message.status){
					Alert.show(message.message,"系统提示");
					return;
				}
				Alert.show("保存成功！ ","系统提示",1,this,closeHandler);
			}
			
			private function closeHandler(event:CloseEvent):void
			{
				if(event.detail==1)
				{
					var rf:index = this.owner as index;
					rf.refresh();
					removeWindow();
				}
			}
			
			
			/**
			 *
			 */
			private function queryPic(f50201:String):void
			{
				var picRequest:PictureRequest= new PictureRequest();
				picRequest.pic02=f50201;
				picRequest.parameterPageindex = 1;
				picRequest.parameterPagesize = 10;
				this.pictureService.queryVPicture(picRequest); 
			}
			
			private function queryVPictureHandler(event:ResultEvent):void
			{
				var picResponse:Object = event.result ;
				var rowCount:Number = picResponse.rowCount;
				if(picResponse.status){
					var picDataArr:ArrayCollection=new ArrayCollection();
					var picArr:ArrayCollection= picResponse.vp;
					var minLength:int=picArr.length-3;
					for(var i:int=picArr.length-1;i>minLength;i--)
					{
						var pic:Object=picArr.getItemAt(i);
						var picObj:Object=new Object();
						picObj.height=229;
						picObj.id=pic.pic01;
						picObj.delStatus=false;
						picObj.picType=pic.pic10;
						picObj.urlSuffix=pic.pic03+pic.pic04;
						picDataArr.addItem(picObj);
					}
					picList.dataProvider=picDataArr;
				}
			}
			
			/**
			 *
			 */
			private function picList_itemClickHandler(event:MouseEvent):void 
			{
				if(picList.dataProvider)
					selectFile=picList.selectedItem;
				if(event.target is Label)
				{
					var label:Label=Label(event.target);
					if(label.text=="查看原图")
						smallerimg(null);
					else if(label.text=="删除")
						CompMethod.delConfirm(delPic,"是否要删除这张图片信息?");
				}
			}
			
			/**
			 * 预览图片
			 */
			private function smallerimg(event:MouseEvent):void
			{
				var imgwindow:ImageWindow = new ImageWindow();
				imgwindow.imageSource=this.selectFile.data;
				CompMethod.popUpTitleWindow(imgwindow,this,true);
				imgwindow.init();
				
			}
			
			/**
			 *
			 */
			private function delPic():void
			{
				var pic:VPicture=new VPicture();
				pic.pic01=this.selectFile.id;
				this.pictureService.delbyId(pic);
			}
			
			
			/*------------------返回删除图片信息-------------------------*/
			private function delbyIdHandler(event:ResultEvent):void
			{
				var picmessage:Object=event.result;
				if(!picmessage.status){
					Alert.show(picmessage.message,"系统提示");
					return;
				}
				Alert.show(picmessage.message,"系统提示");
				
			}
			
			
		]]>
	</fx:Script>
	<s:HGroup width="100%" height="100%" gap="0">
	<s:VGroup height="536" paddingBottom="20" paddingLeft="10" paddingRight="10"
			  paddingTop="10" chromeColor="#cccccc">
		<mx:TabNavigator width="772" height="97" chromeColor="#ffffff" creationPolicy="all">
			<s:NavigatorContent width="100%" label="基本信息" >	
				<mx:Grid width="770" height="76" paddingBottom="10" paddingLeft="8">
					<mx:GridRow>
						<mx:GridItem>
							<s:Label styleName="myLabel" text="产妇姓名"/>	
							<s:TextInput id="F502_03" width="150" enabled="false"/>	
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						
						<mx:GridItem>
							<s:Label styleName="myLabel" width="73" paddingLeft="15" text="证件类型"/>
							<s:DropDownList id="F502_29" width="150" enabled="false"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" text="证件号码"/>
							<s:TextInput id="F502_04" width="150" enabled="false"/>
							<s:Label text="*" styleName="must myLabel"/>
							<!--<s:Button label="读卡" id="duka2" enabled="false" width="50" click="readCard_mother(event)"/>-->
						</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						<mx:GridItem>
							<s:Label styleName="myLabel" width="48" text="年   龄"/>
							<s:TextInput id="F502_06" width="150" restrict="0-9" enabled="false"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" width="73" paddingLeft="15" text="联系电话"/>
							<s:TextInput id="F502_07" width="150" maxChars="12" restrict="0-9" enabled="false"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
					</mx:GridRow>
				</mx:Grid>
			</s:NavigatorContent>
		</mx:TabNavigator>
		
		<mx:TabNavigator width="772" height="265" chromeColor="#ffffff" creationPolicy="all">
			<s:NavigatorContent width="100%" label="超声信息">	
				<mx:Grid height="100%" paddingBottom="10" paddingLeft="8">
					<mx:GridRow>
						<mx:GridItem>
							<s:Label styleName="myLabel" text="超 声 号"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput id="F502_09" width="140" />
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" paddingLeft="15" width="60" text="头 臀 径"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput id="F502_10" width="47" restrict="0-9." text="0" maxChars="4"/>
							<!--<s:NumericStepper minimum="0" stepSize="0.1" maximum="100000" id="F502_10" width="140"/>-->
							<s:Label styleName="myLabel" width="30" paddingLeft="0" text="mm"/>
							<s:Button  label="上传" color="red" icon="@Embed('images/upload.png')" 
									   toolTip="从新上传会覆盖原来的图片信息哦！"  buttonMode="true"
									   click="uploadPic('02')" id="clrPic" />
						</mx:GridItem>
						
						<mx:GridItem>
							<s:Label styleName="myLabel" width="63" paddingLeft="15" text="NT"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput id="F502_13" width="60" restrict="0-9." text="0"/>
							<!--<s:NumericStepper minimum="0" stepSize="0.1" maximum="100000" id="F502_13" width="140"/>-->
							<s:Label styleName="myLabel" width="30" paddingLeft="0" text="mm"/>
							<s:Button  label="上传" color="red" icon="@Embed('images/upload.png')"
									   toolTip="从新上传会覆盖原来的图片信息哦！" buttonMode="true"
									   click="uploadPic('01')" id="ctPic"  />
						</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						<mx:GridItem>
							<s:Label text="双  顶  径"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput id="F502_11" width="140" restrict="0-9." maxChars="4" text="0"/>
							<s:Label styleName="myLabel" text="mm" paddingLeft="0"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" width="59" text="孕     周" paddingLeft="15"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:BorderContainer width="140" height="23">
								<s:HGroup verticalAlign="middle">
									<s:TextInput id="F502_12" width="41" borderVisible="false" maxChars="2" textAlign="right" text="40" restrict="0-9"/>
									<s:Label styleName="myLabel" paddingRight="0" text="周"/>
									<s:TextInput id="F502_30" width="42" borderVisible="false" maxChars="1" textAlign="right" text="0" restrict="0-6"/>
									<s:Label styleName="myLabel" paddingRight="0" text="天"/>
								</s:HGroup>
							</s:BorderContainer>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" paddingLeft="15" text="心率"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput  id="F502_14" width="130" text="0" restrict="0-9" maxChars="3"/>
							<s:Label styleName="myLabel" text="次/分    "/>
						</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						
						<mx:GridItem>
							<s:Label styleName="myLabel" text="羊水深度"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput id="F502_19" width="140" restrict="0-9" text="0" maxChars="3"/>
							<!--<s:NumericStepper minimum="0" stepSize="0.1" maximum="100000" id="F502_19" width="126"/>-->
							<s:Label styleName="myLabel" text="mm" paddingLeft="0"/>
						</mx:GridItem>
						
						<mx:GridItem>
							<s:Label styleName="myLabel" text="胎盘位置" paddingLeft="15"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:DropDownList id="F502_17" width="140" />
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" paddingLeft="15" text="胎盘厚度"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:TextInput id="F502_18" width="130" restrict="0-9" text="0" maxChars="3"/>
							<s:Label styleName="myLabel" text="mm" paddingLeft="0"/>
						</mx:GridItem>
						
					</mx:GridRow>
					
					<mx:GridRow>
						<mx:GridItem >
							<s:Label styleName="myLabel" text="脑部缺陷"/>
						</mx:GridItem>
						<mx:GridItem colSpan="5">
							<s:RadioButton label="否" id="F502_35_02"  click="setF502_35()"/>
							<s:RadioButton label="是" id="F502_35_01" click="setF502_35()"/>
							<s:HGroup paddingLeft="15" id="checkHG" gap="10">
								<s:CheckBox label="无脑儿" id="F502_16_01"/>
								<s:CheckBox label="露脑畸形" id="F502_16_02"/>
								<s:CheckBox label="严重脑膨出" id="F502_16_03"/>
								<s:CheckBox label="严重胸腹壁缺损" id="F502_16_04"/>
								<s:CheckBox label="严重开放性脊柱裂声像表现" id="F502_16_05"/>
							</s:HGroup>
						</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						
						<mx:GridItem>
							<s:Label styleName="myLabel" text="颅骨光环"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:DropDownList id="F502_15" width="140" />
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						
						<mx:GridItem>
							<s:Label styleName="myLabel" text="宫颈内口"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:DropDownList id="F502_20" width="140" />
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem >
							<s:Label styleName="myLabel" text="检查结果  " paddingLeft="15"/>
						</mx:GridItem>
						<mx:GridItem id="F502_38">
							<s:RadioButton label="阴性" selected="true" groupName="F502_38" value="1"/>
							<s:RadioButton label="阳性" groupName="F502_38" value="2"/>
						</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						<mx:GridItem>
							<s:Label styleName="myLabel" text="超声所见"/>
						</mx:GridItem>
						<mx:GridItem colSpan="5">
							<s:TextInput id="F502_33" width="95%" />
							<s:Label styleName="must myLabel" text="*"/>
						</mx:GridItem>
					
					</mx:GridRow>

					<mx:GridRow>
					<mx:GridItem>
						<s:Label styleName="myLabel" text="提示"/>
					</mx:GridItem>
						<mx:GridItem colSpan="5">
						<s:TextInput id="F502_34" width="95%"/>
						<s:Label styleName="must myLabel" text="*"/>
					</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						<mx:GridItem >
							<s:Label styleName="myLabel" text="临床诊断"/>
						</mx:GridItem>
						<mx:GridItem colSpan="3">
							<s:TextInput id="F502_08" width="398" />
						</mx:GridItem>
						<mx:GridItem colSpan="2">
							<s:Label styleName="myLabel" width="63" paddingLeft="15" text="第几子"/>
							<s:TextInput id="F502_39" width="136" enabled="false"/>
							<s:Label styleName="must myLabel" text="*"/>
						</mx:GridItem>
					</mx:GridRow>
				</mx:Grid>
			</s:NavigatorContent>
		</mx:TabNavigator>	
		<mx:TabNavigator width="772" height="94" chromeColor="#ffffff" creationPolicy="all">
			<s:NavigatorContent width="100%" label="报告信息">	
				<mx:Grid width="770" height="86" paddingBottom="10" paddingLeft="8">
					<mx:GridRow>
						<mx:GridItem>
							<s:Label styleName="myLabel" text="报告单位"/>
							<s:DropDownList id="F502_25" width="140" enabled="false"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem width="244">
							<s:Label styleName="myLabel" width="67" paddingLeft="15" text="报告医生"/>
							<s:TextInput id="F502_22" width="140"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" width="76" paddingLeft="15" text="报告时间"/>
							
							<component:CustomRangeDateField  id="F502_24" width="140"/>

							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
					</mx:GridRow>
					<mx:GridRow>
						<mx:GridItem>
							<s:Label styleName="myLabel" text="录入人员"/>
							<s:TextInput id="F502_28" width="140"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" width="67" paddingLeft="15" text="录入时间"/>
							
							<component:CustomRangeDateField  id="F502_27" width="140" enabled="false"/>

							<s:Label styleName="must myLabel"/>
						</mx:GridItem>
						<mx:GridItem>
							<s:Label styleName="myLabel" width="76" paddingLeft="15" text="审核医生"/>
							<s:TextInput id="F502_23" width="140"/>
							<s:Label text="*" styleName="must myLabel"/>
						</mx:GridItem>
					</mx:GridRow>
				</mx:Grid>
			</s:NavigatorContent>
		</mx:TabNavigator>	
		
		<s:HGroup width="80%" height="40" horizontalAlign="right" paddingBottom="10"
				  verticalAlign="middle">
			<s:Button label="保存" id="saveButton" click="validate1()"/>
		</s:HGroup>
	</s:VGroup>
		<s:VGroup width="100%" height="100%">
			<mx:TabNavigator width="100%" chromeColor="#ffffff"
							 creationPolicy="all">
				<s:NavigatorContent width="100%" height="504" label="图片信息">	
					<s:List id="picList" width="203" borderVisible="false"
							click="picList_itemClickHandler(event)" contentBackgroundColor="#FFFFFF"
							itemRenderer="{new ClassFactory(CustomCsBgListColumnItemRenderer)}">
						<s:layout>
							<s:TileLayout requestedColumnCount="1" requestedRowCount="2"/>
						</s:layout>
					</s:List>
				</s:NavigatorContent>
			</mx:TabNavigator>
		</s:VGroup> 
		
	</s:HGroup> 
</s:TitleWindow>
